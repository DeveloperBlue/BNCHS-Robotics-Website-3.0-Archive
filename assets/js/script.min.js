$(document).ready(function(){!function(){if("requestAnimationFrame"in window&&!/Mobile|Android/.test(navigator.userAgent)){var t=[];if($("[data-bs-parallax-bg]").each(function(){var e=$(this),a=$("<div>");a.css({backgroundImage:e.css("background-image"),backgroundSize:"cover",backgroundPosition:"center",position:"absolute",height:"200%",width:"100%",top:0,left:0,zIndex:-100}),a.appendTo(e),t.push(a[0]),e.css({position:"relative",background:"transparent",overflow:"hidden"})}),t.length){var e,a=[];$(window).on("scroll resize",o),o()}}function o(){a.length=0;for(var o=0;o<t.length;o++){var i=t[o].parentNode.getBoundingClientRect();i.bottom>0&&i.top<window.innerHeight&&a.push({rect:i,node:t[o]})}cancelAnimationFrame(e),a.length&&(e=requestAnimationFrame(n))}function n(){for(var t=0;t<a.length;t++){var e=a[t].rect,o=a[t].node,n=Math.max(e.bottom,0)/(window.innerHeight+e.height);o.style.transform="translate3d(0, "+-50*n+"%, 0)"}}}()});let BS_breakpoint_MD=768;var user_data;function handleNavbar(t){switch(scrollUpdate(),$(".nav-item.dropdown").hover(function(){$(window).width()>=BS_breakpoint_MD&&($(this).addClass("show"),$(this).find(".dropdown-menu").addClass("show"))},function(){$(window).width()>=BS_breakpoint_MD&&($(this).removeClass("show"),$(this).find(".dropdown-menu").removeClass("show"))}),$(".nav-link.active").removeClass("active"),t){case"projects":case"socialmedia":console.log("COMMUNITY"),$(".nav-link#nav-community").addClass("active");break;case"account":case"signin":case"signup":case"verify":case"database":case"calendar":case"security":console.log("TEAM"),$(".nav-link#nav-team").addClass("active");break;case"resources":console.log("HYRBID"),$(".nav-link#nav-community, .nav-link#nav-team").addClass("active");break;case"sponsors":console.log("SPONSORS"),$(".nav-link#nav-sponsors").addClass("active");break;case"contact":console.log("CONTACT"),$(".nav-link#nav-contact").addClass("active");break;case"":case"index":case"team":case"robots":case"competitions":console.log("HOME"),$(".nav-link#nav-home").addClass("active");break;default:console.log("DEFAULT")}}function scrollUpdate(){var t=$(window).scrollTop(),e=$(window).width()>BS_breakpoint_MD?t/50:1;e>.3?$(".navbar").addClass("navbar-dropshadow"):$(".navbar").removeClass("navbar-dropshadow"),$(".navbar").css("background-color","rgba(33,33,33,"+e+")"),$(".NavButton").css("background-color","rgba(33,33,33,"+e+")")}function handleTwitchBanner(){$.ajax({url:"https://api.twitch.tv/kraken/streams/team5599_thesentinels",dataType:"json",headers:{"Client-ID":"qd2a6znhhe3b2pw4i5xp3aspxzwueo"},success:function(t){null==t.stream?$(".twitch-banner").hide():(console.log("We're live on Twitch!"),$(".twitch-banner").show())}})}function handleNewsletter(){$("#newsletter").length&&$("#newsletter").find("button").click(function(){var t=$("#newsletter").find("input").val();""==t.replace(/ /g,"")?alert("Please enter an email."):($("#newsletter-p").text("An email is being sent to "+t+" . . ."),$("#newsletter-modal").modal(),$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/subscribe",type:"POST",crossDomain:!0,data:{},success:function(e,a,o){$("#newsletter-p").text("An email was successfully sent to "+t+"!")},error:function(t){console.log("An error occurred when subscribing to the newsletter.",t),$("#newsletter-p").text("An error occurred - no email was sent. Our servers may be unavailable. Consider trying again later?")}}))})}function handleSponsorModal(){var t=$("#sponsor-modal");0==t.length&&(t=$('\t\t\t<div role="dialog" tabindex="-1" class="modal fade" id="sponsor-modal">\t\t\t    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">\t\t\t        <div class="modal-content">\t\t\t            <div class="modal-header text-center"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div>\t\t\t            <div class="modal-body text-center"><a class="btn btn-outline-primary btn-block btn-lg" role="button" href="https://bnchs.ed.co/the-sentinels" target="_blank" style="padding-top: 30px;padding-bottom: 30px;font-size:16px;position:relative;">If you would like to make a <strong><em>monetary donation</em></strong>, you can click here to head over to our EdCo fundraising page.<br /><i class="fa fa-dollar" style="position:absolute;right:10px;bottom:10px;"></i></a>\t\t\t                <a\t\t\t                    class="btn btn-outline-primary btn-block btn-lg" role="button" href="Contact.html" style="padding: 30px;padding-bottom: 30px;font-size:16px;position:relative;">To form a<strong><em> partnership</em></strong> or make a <strong><em>physical donation</em></strong>, click here to head over to our Contact Us page where you can reach out to our Lead Mentor &amp; Marketing Team.<i class="fa fa-gift"\t\t\t                        style="position:absolute;right:10px;bottom:10px;"></i></a>\t\t\t                    <h3 class="display-4 modal-title text-center" style="font-family: \'Allura\';margin: 20px;margin-bottom: 0px;">Thank you for your time</h3>\t\t\t            </div>\t\t\t            <div class="modal-footer"><button class="btn btn-light btn-block" type="button" data-dismiss="modal">Close</button></div>\t\t\t        </div>\t\t\t    </div>\t\t\t</div>\t\t')).appendTo($("body"))}function handleThemeManager(){function t(){$(".t--light").each(function(){$(this).removeClass("t--light"),$(this).addClass("t--dark")}),document.cookie="darkTheme=true"}$("body").addClass("t--light"),console.log("DarkTheme: ",getCookie("darkTheme")),"true"==getCookie("darkTheme")&&t(),$("#toggle-contrast").click(function(){console.log("Modifying Theme"),$("body").hasClass("t--dark")?($(".t--dark").each(function(){$(this).removeClass("t--dark"),$(this).addClass("t--light")}),document.cookie="darkTheme=false;"):t()})}function handleAccountPage(){getSignInStatus(function(){if(console.log("USERDATA",user_data),0==user_data.activated)return signOut(!0),void goToPage("Verify.html?type=reactivate&user="+response.data.osis+"&email="+response.data.email);var t,e;console.log("Successfully signed in"),$("#accountPage-signOut").click(function(t){return t.preventDefault(),signOut(),!1}),$("#account-page-user-info").text(user_data.firstname+" "+user_data.lastname),$("#account-page-user-osis").text(user_data.osis),$("#breadcrumbs-user").text(user_data.osis),"photos"in user_data&&(t=""!==user_data.photos.facebook?user_data.photos.facebook:""!=user_data.photos.discord?user_data.photos.discord:null);t=null==t?"https://d1nhio0ox7pgb.cloudfront.net/_img/o_collection_png/green_dark_grey/256x256/plain/user.png":t,$("#account-page-user-photo").attr("src",t),$(".account-holds-div").empty(),0==user_data.holds.length?($(".account-holds-div").addClass("no-holds"),$(".account-holds-div").append($('<p class="lead text-monospace text-center text-success account-holds-header">You have no active holds.<i class="fa fa-check-circle-o" style="margin-left:6px;"></i></p>'))):($(".account-holds-div").removeClass("no-holds"),$(".account-holds-div").append($('<p class="lead text-monospace text-center text-danger account-holds-header">You have the following active hold(s).</p>')),user_data.holds.forEach(function(t){$(".account-holds-div").append($('<p class="account-hold-item">'+t+"</p>"))}));function a(t,e){-1!=user_data.permissions.indexOf("z")||-1!=user_data.permissions.indexOf(t)?($(e).prop("disabled",!1),$(e).removeClass("disabled")):($(e).prop("disabled",!0),$(e).addClass("disabled"))}$(".feed-admin-sm").prop("disabled",!0),$(".feed-admin-sm").addClass("disabled"),a("a","#action-announcement"),a("b","#action-blog"),a("c","#action-calendar"),a("d","#action-social"),a("e","#action-newsletter"),a("f","#action-website"),a("g","#action-activity"),a("h","#action-accounts"),a("z","#action-permissions"),""!=user_data.authentication.discord?($(".login-btn-discord > .sign-up-verify-discord").hide(),$(".login-btn-discord").prop("disabled",!1)):($(".login-btn-discord > .sign-up-verify-discord").show(),$(".login-btn-discord").prop("disabled",!0));""!=user_data.authentication.facebook?($(".login-btn-facebook > .sign-up-verify-fb").hide(),$(".login-btn-facebook").prop("disabled",!1)):($(".login-btn-facebook > .sign-up-verify-fb").show(),$(".login-btn-facebook").prop("disabled",!0));$("#attendance-modal-select").empty();for(var o=(new Date).getFullYear();o>=2014;o--)$("#attendance-modal-select").append($("<option></option>").attr("value",o).text(o-1+" - "+o+" Season"));function n(){$("#attendance-modal-select").val();var t={"5/1/2014":"P","5/2/2014":"P","5/3/2014":"A","5/4/2014":"P","5/5/2014":"E","5/6/2014":"P","5/7/2014":"P","5/8/2014":"A","5/9/2014":"P","5/10/2014":"E","5/11/2014":"P","5/12/2014":"P","5/13/2014":"A","5/14/2014":"P","5/15/2014":"E","6/1/2014":"P","6/2/2014":"P","6/3/2014":"A","6/4/2014":"P","6/5/2014":"E","6/6/2014":"P","6/7/2014":"P","6/8/2014":"A","6/9/2014":"P","6/10/2014":"E","6/11/2014":"P","6/12/2014":"P","6/13/2014":"A","6/14/2014":"P","6/15/2014":"E","7/1/2014":"P","7/2/2014":"P","7/3/2014":"A","7/4/2014":"P","7/5/2014":"E","7/6/2014":"P","7/7/2014":"P","7/8/2014":"A","7/9/2014":"P","7/10/2014":"E","7/11/2014":"P","7/12/2014":"P","7/13/2014":"A","7/14/2014":"P","7/15/2014":"E"};$("#attendance-table tbody").empty();var a={P:"#b7e1cd",A:"#ea9999",E:"#a4c2f4"},o={P:0,A:0,E:0,date:new Date};return Object.keys(t).forEach(function(e){$("#attendance-table tbody").append($("<tr><td>"+e+'</td><td style="background-color:'+a[t[e].toUpperCase()]+';">'+t[e]+"</td></tr>")),o[t[e].toUpperCase()]=o[t[e].toUpperCase()]+1}),e=o,o}$("#attendance-modal-select").val((new Date).getFullYear()),$("#attendance-modal-select").change(n),$("#attendance-modal-trigger").click(function(){n(),$("#attendance-modal").modal()}),$("#attendance-modal-print-btn").click(function(){var t=$("#attendance-modal-select").val(),a=$('<div class="bg-white" style="min-width:1240px;width:100%;height:100%;color:#000;"></div>');a.append($('<img style="position:absolute;left:0;top:0;" src="https://i.imgur.com/VGEf0V7.png" width="120" height="120">')),a.append($('<h2 class="text-center">Attendance Data</h2>')),a.append($('<h4 class="text-center">'+(t-1)+" - "+t+" Season</h4><br>")),a.append($('<h3 class="text-center">'+user_data.name+"</h3>")),a.append($('<p class="text-center" style="margin:0px">[ID : <em>'+user_data.osis+" </em>]</p><br>")),a.append($('<p class="text-center">Present: <b>'+e.P+"</b> | Absent: <b>"+e.E+"</b> | Excused: <b>"+e.E+"</b> | Total: <b>"+(e.P+e.E+e.A)+"</b></p>")),a.append($('<p class="text-right"><em>Report generated on '+e.date+"</em></p>")),a.append($("#attendance-table").clone().addClass("print-super-size")),a.imagesLoaded().always(function(){printElement(a[0]),window.print()})}),$("#account-page").show(),$("#account-loading").hide()},function(t){console.log("User not signed in"),null!=t&&403!==t.status&&alert("An error occured - the server may be down. Please try again later.\n\nIf you continue to encounter this issue, please send an email to webmaster@team5599.com."),signOut()})}function handleSignInPage(){getSignInStatus(function(){goToPage("Account.html")},function(){function t(t){$(".signing-error").text(t),$(".signing-error").show(),$("#account-sign-in").prop("disable",!1)}function e(t){$("#error-forget").text(t),$("#error-forgot").show(),$("#form-forgot-button").prop("disable",!1)}"true"==getUrlParameter("forgot")?($("#form-forgot").show(),$("#form-signin").hide()):($("#form-forgot").hide(),$("#form-signin").show()),$(".signing-error").hide(),$("#account-sign-in").click(function(e){e.preventDefault(),$("#account-sign-in").prop("disable",!0);var a=$("#input-username").val(),o=$("#input-password").val(),n=$("#keep-device").val();if(""!=a.replace(/ /g,"")){if(""!=o.replace(/ /g,""))return $.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/signin",type:"POST",crossDomain:!0,data:{user_identifier:a,password:o,keep_device:n},success:function(e,a,o){if(console.log("data: ",e),console.log("resp: ",o),0==e.data.activated)return t("Your account has not yet been activated.\n\nAn email was sent to "+o.data.email+". Check your Spam folders if you cannot find this activation email."),void goToPage("Verify.html?type=reactivate&user="+o.data.osis+"&email="+o.data.email);"cookies"in e&&(document.cookie="osis="+e.cookies.osis+";",document.cookie="token="+e.cookies.token+";");getCookie("osis"),getCookie("token");goToPage("Account.html")},error:function(e){404!=e.status&&400!=e.status?(console.log("An error occurred when attempting to sign in.",e),console.log("JSONR ",e.responseJSON),t("An error occured - the server may be down. Please try again later.\n\nIf you continue to encounter this issue, please send an email to webmaster@team5599.com.")):t(e.responseJSON.message)}}),!1;t("Invalid Password")}else t("Invalid OSIS or Email")}),$("#sign-in-forgot-btn").click(function(){$("#form-forgot").show(),$("#form-signin").hide(),$("#error-forgot").hide(),$("#form-forgot-button").prop("disable",!1)}),$("#form-forgot-return-signin").click(function(){$("#form-forgot").hide(),$("#form-signin").show()}),$("#form-forgot-button").click(function(t){t.preventDefault(),$("#form-forgot-button").prop("disable",!0);var a=$("#forgot-osis").val(),o=$("#forgot-email").val();if(""!=a.replace(/ /g,"")||""!=o.replace(/ /g,""))return $.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/forgot",type:"POST",crossDomain:!0,data:{osis:a,email:o},success:function(t,e,a){$("#error-forget").text("An email to reset your password has been sent to "+t.email+".\n\nPlease follow its instructions on resetting your password."),$("#error-forgot").show(),$("#form-forgot-button").prop("disable",!0)},error:function(t){404==t.status||400==t.status?e(t.responseJSON.message):(console.log("An error occurred when attempting to password reset.",t),e("An error occured - The server may be down. Please try again later.\n\nIf you continue to encouner this issue, send an email out to webmaster@team5599.com."))}}),!1;e("You must enter either your OSIS or your email address.")})})}function handleSignUpPage(){getSignInStatus(function(){goToPage("Account.html")},function(){function t(t){$(".signing-error").text(t),$(".signing-error").show(),$("#account-create").prop("disable",!1)}$("#form-activate").hide(),$("#form-register").show(),$(".signing-error").hide(),$("#account-create").click(function(e){e.preventDefault(),$("#account-create").prop("disable",!0),$(".signing-error").hide();var a=$("#acc-email").val(),o=$("#acc-pw").val(),n=$("#acc-pw-re").val(),i=$("#acc-fn").val(),s=$("#acc-ln").val(),r=$("#acc-osis").val(),l=$("#acc-osis-re").val();if(""!=a.replace(/ /g,"")&&0!=function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())}(a))if(""!=o.replace(/ /g,""))if(o==n)if(""!=i.replace(/ /g,""))if(""!=s.replace(/ /g,""))if(""!=r.replace(/ /g,"")){if(r==l)return $.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/register",type:"POST",crossDomain:!0,data:{email:a,password:o,password_re:n,firstname:i,lastname:s,osis:r,osis_re:l},success:function(t,e,o){$("#activation_msg").text("An activation email was sent to "+a+".\n\nYou must activate your account before you can login. Check your Spam folder if you are unable to find the email."),$("#form-activate").show(),$("#form-register").hide()},error:function(e){400==e.status||409==e.status?t(e.responseJSON.message):t("An error occured - the server may be down. Please try again later.\n\nIf you continue to encounter this issue, please send an email to webmaster@team5599.com.")}}),!1;t("Student IDs do not match.")}else t("Invalid Student ID.");else t("Invalid Last Name.");else t("Invalid First Name.");else t("Passwords do not match.");else t("Invalid Password.");else t("Invalid Email Address.")})})}function handleVerificationPage(){var t=getUrlParameter("type"),e=getUrlParameter("user"),a=getUrlParameter("token");function o(t){$("#info_message_r, #info_message_a, #info_message_ra").text(t),$("#info_message_r, #info_message_a, #info_message_ra").show()}console.log("Auth token:",a),$("#form-activate, #form-reactivate").hide(),$("#form-reset, #form-reset-completed").hide(),$("#info_message_r, #info_message_a, #info_message_ra").hide(),"activate"==t?$("#form-activate").show():"reset"==t?$("#form-reset").show():"reactivate"==t?$("#form-reactivate").show():alert("An error has occurred- you may have ended up on this page by mistake. Please contact detailing webmaster@team5599.com with how you got here. If you are trying to activate your account or reset your password, please make sure you have copied the activation URL fully."),null!=e&&""!=e.replace(/ /g,"")?"reactivate"==t||null!=a&&""!=a.replace(/ /g,"")?"activate"==t?$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/verify",type:"POST",crossDomain:!0,data:{osis:e,activationKey:a},success:function(t,e,a){$("#activate-go-to-dashboard").show(),o("Your account has been successfully activated, you will be redirected to login shortly."),signOut(!0)},error:function(t){404==t.status||400==t.status?o(t.responseJSON.message):o("An error occured - the server may be down. Please try again later.\n\nIf you continue to encounter this issue, please send an email to webmaster@team5599.com.")}}):"reactivate"==t?$("#resend-activation").click(function(t){t.preventDefault(),$("#resend-activation").attr("disabled",!0),$("#info_message_ra").hide();var a=getUrlParameter("email");if(null!=a&&""!=a.replace(/ /g,""))return $("#info_message_ra_em").text("Your account has not been activated.\n\nPlease check "+a+" for an email from accounts@team599.com.\n\nBe sure to check your spam folder."),$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/register/resend_activation",type:"POST",crossDomain:!0,data:{osis:e,email:a},success:function(t,e,a){o("An email was sent to "+t.email)},error:function(t){404==t.status||400==t.status||409==t.status?o(t.responseJSON.message):o("An error occured - the server may be down. Please try again later.\n\nIf you continue to encounter this issue, please send an email to webmaster@team5599.com.")}}),!1;o("Failed to send reactivation email. Could not find an email address in the redirection URL.")}):"reset"==t&&($("#reset_pointer").text("Enter a new password for the account "+e),$("#form-reset-button").click(function(t){t.preventDefault(),$("#form-reset-button").attr("disabled",!0);var n=$("#pwd").val(),i=$("#pwd-re").val();return""==n.replace(/ /g,"")?(o("You must enter a new password."),void $("#form-reset-button").removeAttr("disabled")):n!==i?(o("Passwords do not match."),void $("#form-reset-button").removeAttr("disabled")):($.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/reset",type:"POST",crossDomain:!0,data:{osis:e,reset_key:a,password:n,password_re:i},success:function(t,e,a){$("#form-activate").hide(),$("#form-reset-completed").show(),o("Your account has been successfully activated, you will be redirected to login shortly."),signOut(!0)},error:function(t){404==t.status||400==t.status?o(t.responseJSON.message):o("An error occured - the server may be down. Please try again later.\n\nIf you continue to encounter this issue, please send an email to webmaster@team5599.com."),$("#form-reset-button").removeAttr("disabled")}}),!1)})):o("Failed to activate. Could not find an authentication token in the activation URL. Did you copy it properly?"):o("Failed to activate. Could not find a userID in the activation URL. Did you copy it properly?")}$(document).ready(function(){var t=getPage();switch(console.log("Current Page: ",t),handleNavbar(t),handleThemeManager(),t){case"account":handleAccountPage();break;case"signin":handleSignInPage();break;case"signup":handleSignUpPage();break;case"verify":handleVerificationPage();break;case"robots":handleRobotsPage();break;case"team":handleTeamPage();break;case"contact":handleContactPage();break;case"sponsors":handleSponsorsPage();break;case"resources":handleResourcesPage();break;case"projects":handleProjectsPage();break;case"countdowntimer":break;default:handleGeneric()}handleTwitchBanner(),handleNewsletter(),handleSponsorModal(),getSignInStatus(function(){$(".dashboard-goto").html('My Dashboard<i class="fas fa-home" style="margin-left:6px;font-size:12px"></i><img src="Icons/SubLogo_Blue_Block_1024x1024.png" class="navbar-account-image" />'),$(".dashboard-goto-footer-outer").html('<a href="#" class="dashboard-goto-footer">My Dashboard<i class="fas fa-home" style="margin-left:6px;font-size:12px"></i></a>'),$(".dashboard-sign-out-outer").show(),$(".dashboard-goto, .dashboard-goto-footer").attr("href","/Account.html")},function(){$(".dashboard-goto").html('Sign In<i class="fas fa-sign-in-alt" style="margin-left:6px;font-size:12px"></i><img src="Icons/SubLogo_Blue_Block_1024x1024.png" class="navbar-account-image" style="display:none;" />'),$(".dashboard-goto-footer-outer").html('<a href="#" class="dashboard-goto-footer">Sign In<i class="fas fa-sign-in-alt" style="margin-left:6px;font-size:12px"></i></a>'),$(".dashboard-sign-out-outer").hide(),$(".dashboard-goto, .dashboard-goto-footer").attr("href","/SignIn.html")}),$(".dashboard-goto, .dashboard-goto-footer").click(function(){getSignInStatus(function(){goToPage("Account.html")},function(){goToPage("SignIn.html")})}),$(".dashboard-sign-out").click(function(t){return t.preventDefault(),signOut(),!1});let e="https://www.facebook.com/team5599sentinels/",a="https://twitter.com/Sentinels5599",o="https://www.instagram.com/sentinels_5599/",n="https://www.youtube.com/channel/UCALF3caI0F4WJfJisLFSBWQ";$(".social-url.social-facebook, .social-url.social-instagram, .social-url.social-twitter, .social-url.social-youtube").attr("target","blank"),$(".social-url.social-facebook").attr("href",e),$(".social-url.social-instagram").attr("href",o),$(".social-url.social-twitter").attr("href",a),$(".social-url.social-youtube").attr("href",n)}),$(window).on("resize",function(){configureSliders()}),$(window).bind("scroll",scrollUpdate);var SAMPLE_SPONSORS=[{name:"FIRST Robotics Program",url:"www.FirstInspires.org",image:"https://upload.wikimedia.org/wikipedia/en/thumb/a/a2/FIRST_Logo.svg/1200px-FIRST_Logo.svg.png"},{name:"Benjamin N. Cardozo High School",url:"www.cardozohigh.com",image:"https://pbs.twimg.com/profile_images/984203606105604096/0s83LbPq_400x400.jpg"},{name:"SolidWorks",url:"https://www.solidworks.com/",image:"https://i1.wp.com/www10.mcadcafe.com/blogs/jeffrowe/files/2017/09/icons-solidworks.png?resize=600%2C300&ssl=1"},{name:"GitHub",url:"www.GitHub.com",image:"http://pluspng.com/img-png/github-octocat-vector-png--1600.png"},{name:"BNCHS Parent-Teacher Association",url:"www.cardozohigh.com",image:""}];function handleGeneric(){if($(".sponsors-container").length>0){function t(t){var e=t.name,a="url"in t?t.url:null,o="image"in t&&""!==t.image?t.image:null,n=$('<div class="sponsor-block-item"></div>'),i=$('<a class="stretched-link"></a>');if(i.attr("href",a||""),n.append(i),null!=o){var s=new Image;s.src=o,i.append($(s));var r=$('<div class="sponsor-description bottom"><p>'+e+"</p></div>");n.append(r)}else i.text(e),n.addClass("text-padding");$(".sponsors-container").append(n)}$(".sponsors-container").empty(),$("#sponsors-main-block > #sponsor-load-error").remove(),$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/sponsors/current",type:"GET",crossDomain:!0,success:function(e,a,o){var n=e.payload,i=Object.values(n);if(console.log("Sponsors: ",i),0!==i.length)for(var s=0;s<i.length;s++)t(i[s]);else for(s=0;s<SAMPLE_SPONSORS.length;s++)t(SAMPLE_SPONSORS[s])},error:function(e){$("#sponsors-main-block").prepend($('<p id="sponsor-load-error" class="text-danger" style="margin-bottom:20px"><em>There was an issue fetching sponsors from the database- the following information may not be accurate.</em></p>'));for(var a=0;a<SAMPLE_SPONSORS.length;a++)t(SAMPLE_SPONSORS[a])},complete:function(){$(".sponsors-container").imagesLoaded(function(){console.log("IMAGES LOADED"),$(".sponsors-container > .sponsor-block-item").each(function(t){var e=$(this).find("img"),a=$(this).find(".sponsor-description");0!==e.length&&(e.height>=e.width?e.addClass("sponsor-image-height-cap"):e.addClass("sponsor-image-width-cap"),0!==a.length&&a.width()>e.width()&&(a.removeClass("bottom"),a.addClass("right")))}),console.log("SIZE CHANGED");var t=new Packery($(".sponsors-container")[0],{itemSelector:".sponsor-block-item"});console.log("PACKERY CONSTRUCTED"),setTimeout(function(){t.layout(),console.log("LAYOUT CALLED")},2e3)})}})}if(0!==$("#blog-post-display").length){function e(t){var e=$('<div class="clearfix"></div>'),a=t.content;if(a.length>280){var o=a.substring(280,a.length).indexOf(" ");-1==o&&(o=a.length<290?10:0),a=a.substring(0,280+o)+" . . ."}var n="By "+t.author+" on "+date_helpers.format_day[t.date.getDay()]+", "+date_helpers.format_month[t.date.getMonth()]+" "+date_helpers.date_suffix(t.date.getDate())+", "+t.date.getFullYear(),i=$('<a class="blogembed-title"></a>');i.attr("href",t.url),i.text("» "+t.title);var s=$('<p class="blogembed-author"</p>');s.text(n);var r=$('<p class="text-muted blogembed-content"></p>');r.text(a);var l=$('<a style="font-size:12px;float:right"></a>');l.attr("target","blank"),l.attr("href",t.url),l.text("Read More »"),e.append(i),e.append(s),e.append(r),e.append(l),$("#blog-post-display").append(e),$("#blog-post-display").append($('<div class="divider blog"></div>'))}$("#blog-post-display").empty(),$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/blog",type:"GET",crossDomain:!0,success:function(t,a,o){var n=t.payload;if(0!==n.length)for(var i=0;i<n.length;i++){var s={title:n[i].title,url:n[i].url,author:n[i].author.displayName,date:new Date(n[i].published)},r=n[i].content;if(-1!==r.indexOf("<")&&-1!==r.indexOf(">"))r=$(r).text();s.content=r,e(s)}else{var l=$('<div class="text-center info-block"><div></div></div>');l.find("div").append($('<p class="lead text-center">No content available on the blog at this time!<br>You can subscribe to our Newsletter for notifcations and future updates!</p>')),$("#blog-post-display").append(l)}},error:function(t){var e=$('<div class="text-center info-block"><div></div></div>');e.find("div").append($('<p class="text-danger d-block" style="margin-top:20px;margin-bottom:20px; text-align:center"><em>There was an issue fetching blog data from the database- the following information may not be accurate.</em></p><br>')),e.find("div").append($('<p class="lead text-center">No content available on the blog at this time!<br>You can subscribe to our Newsletter for notifcations and future updates!</p>')),$("#blog-post-display").append(e)},complete:function(){var t=$("#blog-post-display").height();$("#google-calendar-agenda").attr("height",t>260?t-110+"px":"auto")}})}configureSliders()}function configureSliders(){0!==$("#flickr-slider").length&&($(this).width()>=770?$("#flickr-slider").css("height","420px"):$("#flickr-slider").css("height","320px"));var t=$(".overlay-blur-slide").parent().parent().height();console.log("CAROUSEL HEIGHT",t),$(".overlay-blur-slide").each(function(e){$(this).height(t),$(this).find(".overlay-blur-img").height(t)})}function handleRobotsPage(){$("#loading-container").show(),$("#robots-container").hide(),$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/robots",type:"GET",crossDomain:!0,success:function(e,a,o){console.log("Robots Data ",e.payload),function(e){var a=getUrlParameter("robot");$(".robot-item-btn-container").empty(),e.sort(function(t,e){return parseInt(e.season)-parseInt(t.season)});var o=e[0]._id;if($(document).width()<=BS_breakpoint_MD){for(var n={},i=$('<select class="form-control-lg" style="width:100%;margin-bottom:20px;"></select>'),s=0;s<e.length;s++){var r=e[s];if(!(r.type in n)){var l=$('<optgroup label="'+r.type+'"></optgroup>');n[r.type]=l,i.append(l)}var d=$('<option value="'+r._id+'" selected>'+r.season+" - "+r.name+"</option>");n[r.type].append(d),null!==a&&""!==a&&r.season==a&&(a=r._id)}$(".robot-item-btn-container").append(i),i.change(function(){m($(this).val())})}else for(var s=0;s<e.length;s++){var r=e[s],c=null!=t[r.type]?t[r.type]:"secondary",p=$('<button class="btn btn-'+c+' robot-item-btn" type="button">'+r.name+'<span class="bg-'+c+' robot-item-btn-competition-label">'+r.type+" "+r.season+"</span></button>");p.attr("robot_id",r._id),$(".robot-item-btn-container").append(p),null!==a&&""!==a&&r.season==a&&(a=r._id)}function m(t){$(".robot-item-btn").removeClass("active"),$('.robot-item-btn[robot_id="'+t+'"').addClass("active");var a=e[t];$("#robot-info-title").text(a.name),$("#robot-info-season").text(a.type+" "+a.season),$("#robot-info-bio").text(a.biography),$("#robot-competitions-container").empty();var o=Object.values(a.competitions);if(o.length>0)for(var n in o)competition_button=$('<a class="btn btn-primary text-left robot-info-competitions-btn" role="button">'+o[n].name+"</a>"),""!==o[n].url&&null!==o[n].url&&(competition_button.attr("href",o[n].url),competition_button.append($('<i class="fa fa-film float-right"></i>'))),$("#robot-competitions-container").append(competition_button);else $("#robot-competitions-container").append($('<p style="padding:10px;background-color:#eee;margin-top:20px;font-size:14px;color:#000;border-radius:4px;text-align:center"><em>No competitions recorded</em></p>'));if($("#robot-info-carousel-slide-container").empty(),Object.keys(a.media).length>0){for(var i in a.media){var s=a.media[i];-1!==s.indexOf("&")&&(s=s.substring(0,s.indexOf("&"))),s=s.replace("watch?v=","embed/"),console.log(s);var r=$('<div class="carousel-item'+(0==$(".carousel-item").length?" active":"")+'"><iframe width="560" height="415" allowfullscreen frameborder="0" src="'+s+'" class="robot-info-video"></iframe></div>');$("#robot-info-carousel-slide-container").append(r)}$("#robot-info-carousel-container").show()}else $("#robot-info-carousel-container").hide()}$(".robot-item-btn").click(function(){m($(this).attr("robot_id"))}),e=mapArrayToObject(e),m(null==a||""==a?o:null==e[a]?o:a)}(e.payload)},error:function(t){console.log("An error occurred when fetching from the Robots data.",t),$("#robot-fail-alert").show(),$("#robot-display-container").hide()},complete:function(){$("#loading-container").hide(),$("#robots-container").show()}});var t={FRC:"primary",SeaPerch:"info"}}function handleTeamPage(){$("#about-team-select").empty();var t=new Date,e=getUrlParameter("season");""!=e&&null!=e||(e=t.getFullYear());for(var a=t.getFullYear();a>=2015;a--)$("#about-team-select").append($("<option></option>").val(a).html("Season "+(a-1)+" - "+a));$("#loading-container").show(),$("#team-page-container").hide(),$("#about-team-select").val(e);var o=$("<button>").css("display","none").appendTo($(document.body));function n(t){return console.log("Loading team data for the "+(t-1)+" - "+t+" season"),$("#about-team-select").attr("disabled",!0),$("#team-page-container").hide(),$("#loading-container").show(),$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/team/"+t,type:"GET",crossDomain:!0,success:function(e,a,o){console.log("Team Data ",e.payload),function(t,e){$("#team-leadership-container").empty();for(var a=0;a<t.leadership.length;a++)o(t.leadership[a],a,"Leader");$("#team-mentors-container > div").empty();for(var a=0;a<t.mentors.length;a++)o(t.mentors[a],a,"Mentor");"url"in t.media&&""!==t.media.url.replace(/ /g,"")?($(".team-group-container > img").src(t.media.url),$(".team-group-container").show(),"caption"in t.media&&""!==t.media.caption.replace(/ /g,"")?($(".team-group-container > div > p").text(t.media.caption),$(".team-group-container > div").show()):$(".team-group-container > div").hide()):$(".team-group-container").hide();if($("#team-roster-container").empty(),t.roster.length>0)for(var a=0;a<t.roster.length;a++)$('<p class="team-person-item"></p>').text(t.roster[a]).appendTo($("#team-roster-container"));else $('<p class="team-person-item"></p>').text("No roster data found for this season").appendTo($("#team-roster-container"));function o(t,a,o){var n=$('<div class="team-person-card"></div>');for(var i in""!==t.image.replace(/ /g,"")&&$('<img class="team-person-image" />').attr("src",t.image).appendTo(n),$('<h5 class="text-center team-person-name"></h5>').text(t.name).appendTo(n),t.roles){var s=t.roles[i],r=s.season_first<=e&&s.season_last>=e,l="Leader"==o?-1==s.title.toLowerCase().indexOf("mentor")&&-1==s.title.toLowerCase().indexOf("coach"):-1!==s.title.toLowerCase().indexOf("mentor")||-1!==s.title.toLowerCase().indexOf("coach"),d="true"!==s.ignore;r&&l&&d&&$('<p class="text-center team-person-title"></p>').html("<strong>"+t.roles[i].title+" ["+(parseInt(t.roles[i].season_first)-1)+" - "+t.roles[i].season_last+"]</strong>").appendTo(n)}var c="Leader"==o?400:300;console.log(o,c),t.biography.replace(/ /g);$('<p class="text-justify team-person-bio"></p>').text(t.biography.length>c?t.biography.substring(0,parseInt(c))+" . . .":t.biography).appendTo(n);var p=$('<a class="text-center" style="margin-top:20px;font-size:12px;" href=""><em>Read Full Biography</em></a>').appendTo(n);if(p.click(function(e){e.preventDefault(),function(t){for(var e in $("#personModal_img").attr("src",t.image),$("#personModal_name").text(t.name),$("#personModal_season").html("<em>"+t.season_first+" - "+t.season_graduated+"</em>"),$("#personModal_roles > .team-person-title").remove(),t.roles){var a=t.roles[e];$('<p class="text-right team-person-title"></p>').text(a.title+" ["+(a.season_first==a.season_last?parseInt(a.season_first)-1+"-"+a.season_last+" Season]":parseInt(a.season_first)-1+"-"+a.season_first.substring(2,4)+"  to "+(parseInt(a.season_last)-1)+"-"+a.season_last.substring(2,4)+" Seasons]")).appendTo($("#personModal_roles"))}if(""==t.biography.replace(/ /g,"")){var o=t.name.split(" ")[0]+" joined the team during its "+(parseInt(t.season_first)-1)+"-"+t.season_first+" season and graduated after the "+(parseInt(t.season_graduated)-1)+"-"+t.season_graduated+" season. Throughout their time on the team, they held ("+Object.keys(t.roles).length+") diverse titles and various other responsibilities.";$("#personModal_biography").html('<span style="font-size:10px"><em>No bio available - autogenerating</em></span><br>'+o)}else $("#personModal_biography").text(t.biography);$("#personModal").modal()}(t)}),"Leader"==o)n.appendTo($("#team-leadership-container"));else{var m=a%$("#team-mentors-container > div").length+1;n.appendTo($("#team-mentors-container > div:nth-child("+m+")"))}}}(e.payload,t),t==$("#about-team-select").val()&&($("#team-page-container").show(),$("#loading-container").hide())},error:function(t){console.log("An error occurred when fetching from the Team data.",t),$("#team-page-container").after($('<p style="margin-top:20px;margin-bottom:20px;text-align:center;"><em>An error occured when loading team data for this season. Please check back at a later time!</em></p>')),$("#team-page-container").show(),$("#loading-container").hide()},complete:function(){$("#about-team-select").attr("disabled",!1)}}),!1}o.click(function(t){t.preventDefault();var e=$("#about-team-select").val();return setUrlParameter("season",e),n(e),!1}),$("#about-team-select").change(function(t){return t.preventDefault(),o.click(),!1}),n($("#about-team-select").val())}function handleContactPage(){function t(t,e){console.log("Adding Item <"+t+"> <"+e+">"),$("#contacts_div").append($('<div class="contact-item"><p class="text-center" style="font-size:18px;margin:5px;"><strong>'+t+'</strong></p><p class="text-center" style="font-size:16px;margin:10px;">'+e+"</p></div>"))}$("#loading-container").show(),$("#contacts-container").hide(),$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/contacts",type:"GET",crossDomain:!0,success:function(e,a,o){console.log("Contacts Data ",e.payload),$("#contacts_div").empty();for(var n=0;n<e.payload.length;n++)t(e.payload[n].name,e.payload[n].contact)},error:function(e){console.log("An error occurred when fetching from the Contacts data.",e),$("#contacts_div").empty(),$("#contacts_div").append($('<p style="margin-bottom:20px;text-align:center;"><em>An error occured when loading contacts data, information may not be accurate.</em></p>')),t("General Marketing","sentinels@team5599.com")},complete:function(){$("#loading-container").hide(),$("#contacts-container").show()}})}function handleSponsorsPage(){var t={};function e(e){var a=e.name,o="url"in e?e.url:null,n="image"in e&&""!==e.image?e.image:null,i=$('<div class="sponsor-block-item sm"></div>'),s=$('<a class="stretched-link"></a>');if(s.attr("href",o||""),i.append(s),null!=n){var r=new Image;r.src=n,s.append($(r));var l=$('<div class="sponsor-description sm bottom"><p>'+a+"</p></div>");i.append(l)}else s.text(a),i.addClass("text-padding");for(var d=0;d<e.seasons.length;d++)0==Array.isArray(t[e.seasons[d]+""])&&(t[e.seasons[d]+""]=[]),t[e.seasons[d]+""].push(i)}$("#sponsors-container-inner").empty(),$("#loading-container").show(),$("#sponsors-container").hide(),$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/sponsors",type:"GET",crossDomain:!0,success:function(t,a,o){console.log("Sponsors Data ",t.payload);for(var n=0;n<t.payload.length;n++)e(t.payload[n])},error:function(t){console.log("An error occurred when fetching from the Sponsors data.",t),$("#sponsors-container-inner").append($('<p style="margin-bottom:20px;text-align:center;"><em>An error occured when loading sponsors data! The following information may not be up to date, but you can check back at a later time!</em></p>'));for(var a=0;a<SAMPLE_SPONSORS.length;a++)e(SAMPLE_SPONSORS[a])},complete:function(){var e,a;console.log(t),e=Object.keys(t).sort(function(t,e){return e-t}),a=e[0]%2,e.forEach(function(e){console.log("Building "+e);var o=$('<div class="clearfix" style="margin-bottom:40px; width:100%;"><h1 class="d-block">'+(e-1)+" - "+e+"</h1></div>"),n=$('<div class="sponsors-display-inner"></div>');o.append(n),e%2==a?(o.addClass("pack-left"),o.find("h1").css("text-align","left")):(o.addClass("pack-right"),o.find("h1").css("text-align","right")),t[e].forEach(function(t){t.clone().appendTo(n)}),$("#sponsors-container-inner").append('<div class="divider sponsor"></div>'),o.appendTo($("#sponsors-container-inner"))}),$(".sponsors-display-inner > .sponsor-block-item").imagesLoaded(function(){$(".sponsors-display-inner > .sponsor-block-item").each(function(t){var e=$(this).find("img"),a=$(this).find(".sponsor-description");if(0!==e.length){var o=e.height,n=e.width;o>=n?e.addClass("sponsor-image-height-cap"):e.addClass("sponsor-image-width-cap"),e.addClass("sm"),0!==a.length&&a.width()>e.width()&&(a.removeClass("bottom"),a.addClass("right"))}});var t=[];$(".pack-left > .sponsors-display-inner, .pack-right > .sponsors-display-inner").each(function(){var e=!!$(this).parent().hasClass("pack-left"),a=new Packery($(this)[0],{itemSelector:".sponsor-block-item",originLeft:e});t.push(a)}),setTimeout(function(){$.each(t,function(t,e){e.layout()}),console.log("LAYOUT")},1e3)}),$("#loading-container").hide(),$("#sponsors-container").show()}})}function handleCountdownPage(){}function getPage(){return location.pathname.substring(location.pathname.lastIndexOf("/")+1).toString().toLowerCase().replace(".html","")}function getSignInStatus(t,e){if(user_data)t(user_data);else{var a=getCookie("osis"),o=getCookie("token");if(null==a||""==a||null==o||""==o)return void e();$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/users/"+a,type:"GET",crossDomain:!0,xhrFields:{withCredentials:!0},data:{osis:a,token:o},success:function(e,a,o){user_data=e.data,t&&t(e)},error:function(t){e&&e(t)}})}}function signOut(t){user_data=null,$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/signout",type:"POST",crossDomain:!0,success:function(t,e,a){user_data=null},error:function(t){console.log("An error occurred when signing out.",t)},complete:function(){deleteCookie("osis"),deleteCookie("token"),1!=t&&goToPage("SignIn.html")}})}function getUrlParameter(t){var e,a,o=window.location.search.substring(1).split("&");for(a=0;a<o.length;a++)if((e=o[a].split("="))[0]===t)return void 0===e[1]||decodeURIComponent(e[1]);return null}function setUrlParameter(t,e){var a=window.location.href,o=a.split("?")[0],n="?"+a.split("?")[1],i=t+"="+e,s="?"+i;if(n){var r=new RegExp("([?&])"+t+"[^&]*"),l=new RegExp("([?&])"+t+"=[^&;]+[&;]?");s=null==e||""===e?(s=n.replace(l,"$1")).replace(/[&;]$/,""):null!==n.match(r)?n.replace(r,"$1"+i):n+"&"+i}s=(s="?"===s?"":s).replace("?undefined&","?"),window.location.href=o+s}function getCookie(t){var e=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)");return e?e.pop():""}function deleteCookie(t){document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function mapArrayToObject(t,e){e=e||"_id";var a={};return t.forEach(function(t){a[t[e]]=t}),a}function goToPage(t){return window.location.href="/"+t,!1}var osis,token,date_helpers={format_day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],format_month:["January","February","March","April","May","June","July","August","September","October","November","December"],date_suffix:function(t){switch((t=t.toString())[t.length-1]){case"1":return t+("11"==t?"th":"st");case"2":return t+("12"==t?"th":"nd");case"3":return t+("12"==t?"th":"rd");default:return t+"th"}},compare:function(t,e){return t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()}};function printElement(t,e,a){var o=t.cloneNode(!0),n=document.getElementById("printSection");n||((n=document.createElement("div")).id="printSection",document.body.appendChild(n)),!0!==e?n.innerHTML="":!0===e&&("string"==typeof a?n.innerHTML+=a:"object"==typeof a&&n.appendChild(a)),n.appendChild(o)}function handleDatabaseManager(){var t=a;$("#database-view-group > .btn").click(function(){var e=$(this)[0];switch($("#database-view-group > .btn").each(function(t,a){e==$(a)[0]?$(a).addClass("active"):$(a).removeClass("active")}),e){case $("#database-view-group-basic-btn")[0]:t=a;break;case $("#database-view-group-permissions-btn")[0]:t=o;break;case $("#database-view-group-holds-btn")[0]:t=n}t()}),$("#database-reload-btn").click(function(){});var e=$("#database-table-header-row th").length;function a(){console.log("Basic View"),i([1,2,3,4,5,6]),$("#master-holds-give").attr("disabled",!1),$("#master-holds-remove").attr("disabled",!1)}function o(){console.log("Permissions View"),i([2,3,8,9,10,11,12,13,14,15,16,17]),$("#master-holds-give").attr("disabled",!0),$("#master-holds-remove").attr("disabled",!0)}function n(){console.log("Holds View"),i([1,2,3,7]),$("#master-holds-give").attr("disabled",!1),$("#master-holds-remove").attr("disabled",!1)}function i(t){for(let a=1;a<=e;a++)-1!==t.indexOf(a)?$("#database-table-header-row th:nth-child("+a+"), #database-table-body tr td:nth-child("+a+")").show():$("#database-table-header-row th:nth-child("+a+"), #database-table-body tr td:nth-child("+a+")").hide()}function s(){$("#database-table-body tr td:nth-child(1) :checkbox").on("change",function(){r(),0==$(this).prop("checked")&&$("#checkbox-select-all").prop("checked",!1),r()})}function r(){var t=$("#database-table-body tr td:nth-child(1) input:checked").length;return $("#table-selected-display").html("<em>"+t+" User(s) Selected</em>"),0==t?($("#master-holds-give").attr("disabled",!0),$("#master-holds-remove").attr("disabled",!0)):($("#master-holds-give").attr("disabled",!1),$("#master-holds-remove").attr("disabled",!1)),t}console.log("Total Columns: ",e),$("#checkbox-select-all").change(function(){$("#database-table-body tr td:nth-child(1) :checkbox").off("change"),$("#database-table-body tr td:nth-child(1) :checkbox").prop("checked",this.checked),s(),r()}),s(),$(".modal-holds-dropdown").change(function(){"Custom"==$(".modal-holds-dropdown").val()?($("#modal-holds-custom-div > .modal-input-bar").val(""),$("#modal-holds-custom-div").show()):$("#modal-holds-custom-div").hide()});var l,d=["Goggles and Gloves","Academic Probation"];for(let t=0;t<d.length;t++)$(".modal-holds-dropdown").append($('<option value="'+t+'">'+d[t]+"</option>"));$(".modal-holds-dropdown").append($('<option value="Custom">Custom Hold</option>')),$("#modal-holds-list-add-btn").click(function(){var t,e="Custom"==$(".modal-holds-dropdown").val()?$("#modal-holds-custom-div > .modal-input-bar").val():$(".modal-holds-dropdown option:selected").text();if(console.log("Ading hold ",e),""!=e.replace(/ /g,"")){if($("#modal-holds-div > .database-hold-span").each(function(a,o){if($(o).text()==e)return alert("Hold already added to list."),void(t=!0)}),!t){var a=$('<span class="database-hold-span">'+e+'<button class="btn btn-danger database-hold-span-remove-button" type="button"><i class="fa fa-close"></i></button></span>');a.find("button").click(function(){a.remove()}),$("#modal-holds-div").append(a)}}else alert("Cannot add a blank hold.")}),$("#master-holds-give, #master-holds-remove").click(function(){var t=this==$("#master-holds-give")[0],e=$("#database-table-body tr td:nth-child(1) input:checked").length;$("#modal-holds-title").text(t?"Add Hold(s)":"Remove Hold(s)"),$("#modal-holds-info").html("You have selected <strong>"+e+"</strong> User(s)."),$("#modal-holds-div").empty(),$("#modal-holds-proceed").html((t?"Add":"Remove")+" Selected Hold(s) "+(t?"to":"from")+" User(s)"),$("#Holds-Modal").modal()}),$("#table-sort-swap-names").click(function(){$("#table-sort-swap-names").toggleClass("active"),$("#database-table-body tr td:nth-child(3)").each(function(t,e){$("#table-sort-swap-names").hasClass("active")?($(e).find("#namedivider").text(", ").remove().appendTo($(e)),$(e).find("#firstname").remove().appendTo($(e))):($(e).find("#namedivider").text(" ").remove().appendTo($(e)),$(e).find("#lastname").remove().appendTo($(e)))})}),$("#table-sort-names").click(function(){var t,e,a,o;l="asc"==l?"desc":"asc",t=$(".permissions-table"),e=3,a="asc"===l,(o=t.find("tbody")).find("tr").sort(function(t,o){return a?$("td:nth-child("+e+")",t).text().localeCompare($("td:nth-child("+e+")",o).text()):$("td:nth-child("+e+")",o).text().localeCompare($("td:nth-child("+e+")",t).text())}).appendTo(o)}),$("#database-search-btn").click(function(){function e(t){var e=$('<tr>\t\t\t    <td class="text-center"><input type="checkbox" /></td>\t\t\t    <td id="cell-osis">Cell 1</td>\t\t\t    <td id="cell-name">Cell 2</td>\t\t\t    <td id="cell-email">Cell 4</td>\t\t\t    <td id="cell-holds-count">0</td>\t\t\t    <td id="cell-permissions-blocks">\t\t\t        <div class="permissions-color-block brown"><span class="permissions-color-block-span">NULL</span></div>\t\t\t        <div class="permissions-color-block brown"><span class="permissions-color-block-span">NULL</span></div>\t\t\t        <div class="permissions-color-block brown"><span class="permissions-color-block-span">NULL</span></div>\t\t\t    </td>\t\t\t    <td id="cell-holds-blocks" class="text-center">\t\t\t    \t<span class="database-hold-span">Goggle and Gloves<button class="btn btn-danger database-hold-span-remove-button" type="button"><i class="fa fa-close"></i></button></span><span class="database-hold-span">Text<button class="btn btn-danger database-hold-span-remove-button" type="button"><i class="fa fa-close"></i></button></span>\t\t\t    </td>\t\t\t    <td class="text-center"><input type="checkbox" /></td>\t\t        <td class="text-center"><input type="checkbox" /></td>\t\t        <td class="text-center"><input type="checkbox" /></td>\t\t        <td class="text-center"><input type="checkbox" /></td>\t\t        <td class="text-center"><input type="checkbox" /></td>\t\t        <td class="text-center"><input type="checkbox" /></td>\t\t        <td class="text-center"><input type="checkbox" /></td>\t\t        <td class="text-center"><input type="checkbox" /></td>\t\t        <td class="text-center"><input type="checkbox" /></td>\t\t        <td class="text-center"><input type="checkbox" /></td>\t\t\t</tr>');e.find("#cell-osis").text(t._id),$("#table-sort-swap-names").hasClass("active")?e.find("#cell-name").html('<span id="lastname">'+t.last_name+'</span><span id="namedivider">, </span><span id="firstname">'+t.first_name+"</span>"):e.find("#cell-name").html('<span id="firstname">'+t.first_name+'</span><span id="namedivider"> </span><span id="lastname">'+t.last_name+"</span>"),e.find("#cell-email").text(t.email),e.find("#cell-holds").text(t.holds.length),e.find("#cell-permissions-blocks").empty(),e.find("#cell-holds-blocks").empty();for(let a=0;a<t.holds.length;a++)e.find("#cell-holds-blocks").append($('<span class="database-hold-span">'+t.holds[a]+'<button class="btn btn-danger database-hold-span-remove-button" type="button"><i class="fa fa-close"></i></button></span>'));$("#database-table-body").append(e)}$("#database-search-btn").prop("disabled",!0),$("#database-table-body").empty();var a=[{_id:"123456789",first_name:"Kelin",last_name:"Qu",email:"KQu@gmail.com",holds:["Goggles and Gloves","Awesome"],permissions:["a","z"]},{_id:"987654321",first_name:"Michael",last_name:"Rooplall",email:"MichaelRooplall@gmail.com",holds:[],permissions:["z"]},{_id:"202020202",first_name:"Sofia",last_name:"Jun",email:"SeyoWasTaken@gmail.com",holds:[],permissions:[]}];for(let t=0;t<a.length;t++)e(a[t]);t(),$("#database-search-btn").prop("disabled",!1)})}$(function(){new Swiper(".swiper-container",{loop:!0,pagination:".swiper-pagination",paginationClickable:!0,nextButton:".swiper-button-next",prevButton:".swiper-button-prev"})}),function(t){"use strict";"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&void 0!==module.exports?module.exports=t():window.Sortable=t()}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var t,e,a,o,n,i,s,r,l,d,c,p,m,h,u,g,f,b,v,$,y,w={},x=/\s+/g,_=/left|right|inline/,k="Sortable"+(new Date).getTime(),S=window,C=S.document,T=S.parseInt,D=S.setTimeout,P=S.jQuery||S.Zepto,A=S.Polymer,O=!1,E="draggable"in C.createElement("div"),I=!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&((y=C.createElement("x")).style.cssText="pointer-events:auto","auto"===y.style.pointerEvents),N=!1,R=Math.abs,M=Math.min,j=[],L=[],z=function(){return!1},B=ot(function(t,e,a){if(a&&e.scroll){var o,n,i,s,c,p,m=a[k],h=e.scrollSensitivity,u=e.scrollSpeed,g=t.clientX,f=t.clientY,b=window.innerWidth,$=window.innerHeight;if(l!==a&&(r=e.scroll,l=a,d=e.scrollFn,!0===r)){r=a;do{if(r.offsetWidth<r.scrollWidth||r.offsetHeight<r.scrollHeight)break}while(r=r.parentNode)}r&&(o=r,n=r.getBoundingClientRect(),i=(R(n.right-g)<=h)-(R(n.left-g)<=h),s=(R(n.bottom-f)<=h)-(R(n.top-f)<=h)),i||s||(s=($-f<=h)-(f<=h),((i=(b-g<=h)-(g<=h))||s)&&(o=S)),w.vx===i&&w.vy===s&&w.el===o||(w.el=o,w.vx=i,w.vy=s,clearInterval(w.pid),o&&(w.pid=setInterval(function(){p=s?s*u:0,c=i?i*u:0,"function"==typeof d&&"continue"!==d.call(m,c,p,t,v,o)||(o===S?S.scrollTo(S.pageXOffset+c,S.pageYOffset+p):(o.scrollTop+=p,o.scrollLeft+=c))},24)))}},30),F=function(t){function e(t,e){return null!=t&&!0!==t||null!=(t=a.name)?"function"==typeof t?t:function(a,o){var n=o.options.group.name;return e?t:t&&(t.join?t.indexOf(n)>-1:n==t)}:z}var a={},o=t.group;o&&"object"==typeof o||(o={name:o}),a.name=o.name,a.checkPull=e(o.pull,!0),a.checkPut=e(o.put),a.revertClone=o.revertClone,t.group=a};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){O={capture:!1,passive:!1}}}))}catch(t){}function Y(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=e=nt({},e),t[k]=this;var a={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Y.supportPointer};for(var o in a)!(o in e)&&(e[o]=a[o]);for(var n in F(e),this)"_"===n.charAt(0)&&"function"==typeof this[n]&&(this[n]=this[n].bind(this));this.nativeDraggable=!e.forceFallback&&E,G(t,"mousedown",this._onTapStart),G(t,"touchstart",this._onTapStart),e.supportPointer&&G(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(G(t,"dragover",this),G(t,"dragenter",this)),L.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function U(e,a){"clone"!==e.lastPullMode&&(a=!0),o&&o.state!==a&&(W(o,"display",a?"none":""),a||o.state&&(e.options.group.revertClone?(n.insertBefore(o,i),e._animate(t,o)):n.insertBefore(o,t)),o.state=a)}function q(t,e,a){if(t){a=a||C;do{if(">*"===e&&t.parentNode===a||at(t,e))return t}while(t=(n=(o=t).host)&&n.nodeType?n:o.parentNode)}var o,n;return null}function G(t,e,a){t.addEventListener(e,a,O)}function H(t,e,a){t.removeEventListener(e,a,O)}function J(t,e,a){if(t)if(t.classList)t.classList[a?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(x," ").replace(" "+e+" "," ");t.className=(o+(a?" "+e:"")).replace(x," ")}}function W(t,e,a){var o=t&&t.style;if(o){if(void 0===a)return C.defaultView&&C.defaultView.getComputedStyle?a=C.defaultView.getComputedStyle(t,""):t.currentStyle&&(a=t.currentStyle),void 0===e?a:a[e];e in o||(e="-webkit-"+e),o[e]=a+("string"==typeof a?"":"px")}}function X(t,e,a){if(t){var o=t.getElementsByTagName(e),n=0,i=o.length;if(a)for(;n<i;n++)a(o[n],n);return o}return[]}function V(t,e,a,n,i,s,r,l,d){t=t||e[k];var c=C.createEvent("Event"),p=t.options,m="on"+a.charAt(0).toUpperCase()+a.substr(1);c.initEvent(a,!0,!0),c.to=i||e,c.from=s||e,c.item=n||e,c.clone=o,c.oldIndex=r,c.newIndex=l,c.originalEvent=d,e.dispatchEvent(c),p[m]&&p[m].call(t,c)}function K(t,e,a,o,n,i,s,r){var l,d,c=t[k],p=c.options.onMove;return(l=C.createEvent("Event")).initEvent("move",!0,!0),l.to=e,l.from=t,l.dragged=a,l.draggedRect=o,l.related=n||e,l.relatedRect=i||e.getBoundingClientRect(),l.willInsertAfter=r,l.originalEvent=s,t.dispatchEvent(l),p&&(d=p.call(c,l,s)),d}function Q(t){t.draggable=!1}function Z(){N=!1}function tt(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,a=e.length,o=0;a--;)o+=e.charCodeAt(a);return o.toString(36)}function et(t,e){var a=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"===t.nodeName.toUpperCase()||">*"!==e&&!at(t,e)||a++;return a}function at(t,e){if(t){if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e)}return!1}function ot(t,e){var a,o;return function(){void 0===a&&(a=arguments,o=this,D(function(){1===a.length?t.call(o,a[0]):t.apply(o,a),a=void 0},e))}}function nt(t,e){if(t&&e)for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t}function it(t){return A&&A.dom?A.dom(t).cloneNode(!0):P?P(t).clone(!0)[0]:t.cloneNode(!0)}function st(t){return D(t,0)}function rt(t){return clearTimeout(t)}return Y.prototype={constructor:Y,_onTapStart:function(e){var a,o=this,n=this.el,i=this.options,r=i.preventOnFilter,l=e.type,d=e.touches&&e.touches[0],c=(d||e).target,p=e.target.shadowRoot&&e.path&&e.path[0]||c,m=i.filter;if(function(t){j.length=0;for(var e=t.getElementsByTagName("input"),a=e.length;a--;){var o=e[a];o.checked&&j.push(o)}}(n),!t&&!(/mousedown|pointerdown/.test(l)&&0!==e.button||i.disabled)&&!p.isContentEditable&&(c=q(c,i.draggable,n))&&s!==c){if(a=et(c,i.draggable),"function"==typeof m){if(m.call(this,e,c,this))return V(o,p,"filter",c,n,n,a),void(r&&e.preventDefault())}else if(m&&(m=m.split(",").some(function(t){if(t=q(p,t.trim(),n))return V(o,t,"filter",c,n,n,a),!0})))return void(r&&e.preventDefault());i.handle&&!q(p,i.handle,n)||this._prepareDragStart(e,d,c,a)}},_prepareDragStart:function(a,o,r,l){var d,c=this,p=c.el,m=c.options,u=p.ownerDocument;r&&!t&&r.parentNode===p&&(b=a,n=p,e=(t=r).parentNode,i=t.nextSibling,s=r,g=m.group,h=l,this._lastX=(o||a).clientX,this._lastY=(o||a).clientY,t.style["will-change"]="all",d=function(){c._disableDelayedDrag(),t.draggable=c.nativeDraggable,J(t,m.chosenClass,!0),c._triggerDragStart(a,o),V(c,n,"choose",t,n,n,h)},m.ignore.split(",").forEach(function(e){X(t,e.trim(),Q)}),G(u,"mouseup",c._onDrop),G(u,"touchend",c._onDrop),G(u,"touchcancel",c._onDrop),G(u,"selectstart",c),m.supportPointer&&G(u,"pointercancel",c._onDrop),m.delay?(G(u,"mouseup",c._disableDelayedDrag),G(u,"touchend",c._disableDelayedDrag),G(u,"touchcancel",c._disableDelayedDrag),G(u,"mousemove",c._disableDelayedDrag),G(u,"touchmove",c._disableDelayedDrag),m.supportPointer&&G(u,"pointermove",c._disableDelayedDrag),c._dragStartTimer=D(d,m.delay)):d())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),H(t,"mouseup",this._disableDelayedDrag),H(t,"touchend",this._disableDelayedDrag),H(t,"touchcancel",this._disableDelayedDrag),H(t,"mousemove",this._disableDelayedDrag),H(t,"touchmove",this._disableDelayedDrag),H(t,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(e,a){(a=a||("touch"==e.pointerType?e:null))?(b={target:t,clientX:a.clientX,clientY:a.clientY},this._onDragStart(b,"touch")):this.nativeDraggable?(G(t,"dragend",this),G(n,"dragstart",this._onDragStart)):this._onDragStart(b,!0);try{C.selection?st(function(){C.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(){if(n&&t){var e=this.options;J(t,e.ghostClass,!0),J(t,e.dragClass,!1),Y.active=this,V(this,n,"start",t,n,n,h)}else this._nulling()},_emulateDragOver:function(){if(v){if(this._lastX===v.clientX&&this._lastY===v.clientY)return;this._lastX=v.clientX,this._lastY=v.clientY,I||W(a,"display","none");var t=C.elementFromPoint(v.clientX,v.clientY),e=t,o=L.length;if(t&&t.shadowRoot&&(e=t=t.shadowRoot.elementFromPoint(v.clientX,v.clientY)),e)do{if(e[k]){for(;o--;)L[o]({clientX:v.clientX,clientY:v.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);I||W(a,"display","")}},_onTouchMove:function(t){if(b){var e=this.options,o=e.fallbackTolerance,n=e.fallbackOffset,i=t.touches?t.touches[0]:t,s=i.clientX-b.clientX+n.x,r=i.clientY-b.clientY+n.y,l=t.touches?"translate3d("+s+"px,"+r+"px,0)":"translate("+s+"px,"+r+"px)";if(!Y.active){if(o&&M(R(i.clientX-this._lastX),R(i.clientY-this._lastY))<o)return;this._dragStarted()}this._appendGhost(),$=!0,v=i,W(a,"webkitTransform",l),W(a,"mozTransform",l),W(a,"msTransform",l),W(a,"transform",l),t.preventDefault()}},_appendGhost:function(){if(!a){var e,o=t.getBoundingClientRect(),i=W(t),s=this.options;J(a=t.cloneNode(!0),s.ghostClass,!1),J(a,s.fallbackClass,!0),J(a,s.dragClass,!0),W(a,"top",o.top-T(i.marginTop,10)),W(a,"left",o.left-T(i.marginLeft,10)),W(a,"width",o.width),W(a,"height",o.height),W(a,"opacity","0.8"),W(a,"position","fixed"),W(a,"zIndex","100000"),W(a,"pointerEvents","none"),s.fallbackOnBody&&C.body.appendChild(a)||n.appendChild(a),e=a.getBoundingClientRect(),W(a,"width",2*o.width-e.width),W(a,"height",2*o.height-e.height)}},_onDragStart:function(e,a){var i=this,s=e.dataTransfer,r=i.options;i._offUpEvents(),g.checkPull(i,i,t,e)&&((o=it(t)).draggable=!1,o.style["will-change"]="",W(o,"display","none"),J(o,i.options.chosenClass,!1),i._cloneId=st(function(){n.insertBefore(o,t),V(i,n,"clone",t)})),J(t,r.dragClass,!0),a?("touch"===a?(G(C,"touchmove",i._onTouchMove),G(C,"touchend",i._onDrop),G(C,"touchcancel",i._onDrop),r.supportPointer&&(G(C,"pointermove",i._onTouchMove),G(C,"pointerup",i._onDrop))):(G(C,"mousemove",i._onTouchMove),G(C,"mouseup",i._onDrop)),i._loopId=setInterval(i._emulateDragOver,50)):(s&&(s.effectAllowed="move",r.setData&&r.setData.call(i,s,t)),G(C,"drop",i),i._dragStartId=st(i._dragStarted))},_onDragOver:function(s){var r,l,d,h,u,b,v=this.el,y=this.options,w=y.group,x=Y.active,S=g===w,C=!1,T=y.sort;if(void 0!==s.preventDefault&&(s.preventDefault(),!y.dragoverBubble&&s.stopPropagation()),!t.animated&&($=!0,x&&!y.disabled&&(S?T||(h=!n.contains(t)):f===this||(x.lastPullMode=g.checkPull(this,x,t,s))&&w.checkPut(this,x,t,s))&&(void 0===s.rootEl||s.rootEl===this.el))){if(B(s,y,this.el),N)return;if(r=q(s.target,y.draggable,v),l=t.getBoundingClientRect(),f!==this&&(f=this,C=!0),h)return U(x,!0),e=n,void(o||i?n.insertBefore(t,o||i):T||n.appendChild(t));if(0===v.children.length||v.children[0]===a||v===s.target&&(u=s,b=v.lastElementChild.getBoundingClientRect(),u.clientY-(b.top+b.height)>5||u.clientX-(b.left+b.width)>5)){if(0!==v.children.length&&v.children[0]!==a&&v===s.target&&(r=v.lastElementChild),r){if(r.animated)return;d=r.getBoundingClientRect()}U(x,S),!1!==K(n,v,t,l,r,d,s)&&(t.contains(v)||(v.appendChild(t),e=v),this._animate(l,t),r&&this._animate(d,r))}else if(r&&!r.animated&&r!==t&&void 0!==r.parentNode[k]){c!==r&&(c=r,p=W(r),m=W(r.parentNode));var P=(d=r.getBoundingClientRect()).right-d.left,A=d.bottom-d.top,O=_.test(p.cssFloat+p.display)||"flex"==m.display&&0===m["flex-direction"].indexOf("row"),E=r.offsetWidth>t.offsetWidth,I=r.offsetHeight>t.offsetHeight,R=(O?(s.clientX-d.left)/P:(s.clientY-d.top)/A)>.5,M=r.nextElementSibling,j=!1;if(O){var L=t.offsetTop,z=r.offsetTop;j=L===z?r.previousElementSibling===t&&!E||R&&E:r.previousElementSibling===t||t.previousElementSibling===r?(s.clientY-d.top)/A>.5:z>L}else C||(j=M!==t&&!I||R&&I);var F=K(n,v,t,l,r,d,s,j);!1!==F&&(1!==F&&-1!==F||(j=1===F),N=!0,D(Z,30),U(x,S),t.contains(v)||(j&&!M?v.appendChild(t):r.parentNode.insertBefore(t,j?M:r)),e=t.parentNode,this._animate(l,t),this._animate(d,r))}}},_animate:function(t,e){var a=this.options.animation;if(a){var o=e.getBoundingClientRect();1===t.nodeType&&(t=t.getBoundingClientRect()),W(e,"transition","none"),W(e,"transform","translate3d("+(t.left-o.left)+"px,"+(t.top-o.top)+"px,0)"),e.offsetWidth,W(e,"transition","all "+a+"ms"),W(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=D(function(){W(e,"transition",""),W(e,"transform",""),e.animated=!1},a)}},_offUpEvents:function(){var t=this.el.ownerDocument;H(C,"touchmove",this._onTouchMove),H(C,"pointermove",this._onTouchMove),H(t,"mouseup",this._onDrop),H(t,"touchend",this._onDrop),H(t,"pointerup",this._onDrop),H(t,"touchcancel",this._onDrop),H(t,"pointercancel",this._onDrop),H(t,"selectstart",this)},_onDrop:function(s){var r=this.el,l=this.options;clearInterval(this._loopId),clearInterval(w.pid),clearTimeout(this._dragStartTimer),rt(this._cloneId),rt(this._dragStartId),H(C,"mouseover",this),H(C,"mousemove",this._onTouchMove),this.nativeDraggable&&(H(C,"drop",this),H(r,"dragstart",this._onDragStart)),this._offUpEvents(),s&&($&&(s.preventDefault(),!l.dropBubble&&s.stopPropagation()),a&&a.parentNode&&a.parentNode.removeChild(a),n!==e&&"clone"===Y.active.lastPullMode||o&&o.parentNode&&o.parentNode.removeChild(o),t&&(this.nativeDraggable&&H(t,"dragend",this),Q(t),t.style["will-change"]="",J(t,this.options.ghostClass,!1),J(t,this.options.chosenClass,!1),V(this,n,"unchoose",t,e,n,h,null,s),n!==e?(u=et(t,l.draggable))>=0&&(V(null,e,"add",t,e,n,h,u,s),V(this,n,"remove",t,e,n,h,u,s),V(null,e,"sort",t,e,n,h,u,s),V(this,n,"sort",t,e,n,h,u,s)):t.nextSibling!==i&&(u=et(t,l.draggable))>=0&&(V(this,n,"update",t,e,n,h,u,s),V(this,n,"sort",t,e,n,h,u,s)),Y.active&&(null!=u&&-1!==u||(u=h),V(this,n,"end",t,e,n,h,u,s),this.save()))),this._nulling()},_nulling:function(){n=t=e=a=i=o=s=r=l=b=v=$=u=c=p=f=g=Y.active=null,j.forEach(function(t){t.checked=!0}),j.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragover":case"dragenter":t&&(this._onDragOver(e),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.preventDefault()}(e));break;case"mouseover":this._onDrop(e);break;case"selectstart":e.preventDefault()}},toArray:function(){for(var t,e=[],a=this.el.children,o=0,n=a.length,i=this.options;o<n;o++)q(t=a[o],i.draggable,this.el)&&e.push(t.getAttribute(i.dataIdAttr)||tt(t));return e},sort:function(t){var e={},a=this.el;this.toArray().forEach(function(t,o){var n=a.children[o];q(n,this.options.draggable,a)&&(e[t]=n)},this),t.forEach(function(t){e[t]&&(a.removeChild(e[t]),a.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return q(t,e||this.options.draggable,this.el)},option:function(t,e){var a=this.options;if(void 0===e)return a[t];a[t]=e,"group"===t&&F(a)},destroy:function(){var t=this.el;t[k]=null,H(t,"mousedown",this._onTapStart),H(t,"touchstart",this._onTapStart),H(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(H(t,"dragover",this),H(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),L.splice(L.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},G(C,"touchmove",function(t){Y.active&&t.preventDefault()}),Y.utils={on:G,off:H,css:W,find:X,is:function(t,e){return!!q(t,e,t)},extend:nt,throttle:ot,closest:q,toggleClass:J,clone:it,index:et,nextTick:st,cancelNextTick:rt},Y.create=function(t,e){return new Y(t,e)},Y.version="1.7.0",Y}),$(document).ready(function(){var t=$(".newsletter-create-sidebar")[0],e=$(".newsletter-create-page")[0];Sortable.create(t,{group:{name:"webmail",pull:"clone",put:!1},draggable:".webmail-sidebar-element",sort:!1});var a=$('<div class="webmail-row-element"><div class="webmail-row-panel clearfix"><button class="btn btn-primary webmail-row-panel-btn draggable grabbable" type="button"><i class="typcn typcn-arrow-unsorted"></i></button><button class="btn btn-info webmail-row-panel-btn copy" type="button"><i class="fa fa-copy"></i></button><button class="btn btn-warning webmail-row-panel-btn edit" type="button"><i class="fa fa-pencil"></i></button><button class="btn btn-danger webmail-row-panel-btn destroy float-right" type="button"><i class="fa fa-trash-o"></i></button></div><p class="text-center">One</p></div>'),o={wm_splash_img:'<tr>\t\t\t\t\t<td style="background-color: #ffffff;">\t\t\t\t\t\t<img src="https://www.team5599.com/assets/img/SplashHeaders/Default.png" width="680" height="" alt="alt_text" border="0" style="width: 100%; max-width: 680px; height: auto; background: #dddddd; font-family: sans-serif; font-size: 15px; line-height: 15px; color: #555555; margin: auto;" class="fluid g-img">\t\t\t\t\t</td>\t\t\t\t</tr>',wm_main_text:' <tr>\t\t\t\t\t<td style="background-color: #ffffff;">\t\t\t\t\t\t<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t<td style="padding: 20px; font-family: sans-serif; font-size: 15px; line-height: 20px; color: #555555;">\t\t\t\t\t\t\t\t\t<div class="editable">\t\t\t\t\t\t\t\t\t<h1 style="margin: 0 0 10px; font-size: 25px; line-height: 30px; color: #333333; font-weight: normal;">Praesent laoreet malesuada&nbsp;cursus.</h1>\t\t\t\t\t\t\t\t\t<p style="margin: 0 0 10px;">Maecenas sed ante pellentesque, posuere leo id, eleifend dolor. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Praesent laoreet malesuada cursus. Maecenas scelerisque congue eros eu posuere. Praesent in felis ut velit pretium lobortis rhoncus ut&nbsp;erat.</p>\t\t\t\t\t\t\t\t\t<ul style="padding: 0; margin: 0; list-style-type: disc;">\t\t\t\t\t\t\t\t\t\t<li style="margin:0 0 10px 30px;" class="list-item-first">A list item.</li>\t\t\t\t\t\t\t\t\t\t<li style="margin:0 0 10px 30px;">Another list item here.</li>\t\t\t\t\t\t\t\t\t\t<li style="margin: 0 0 0 30px;" class="list-item-last">Everyone gets a list item, list items for everyone!</li>\t\t\t\t\t\t\t\t\t</ul>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t<td style="padding: 0 20px 20px;">\t\t\t\t\t\t\t\t\t<table align="center" role="presentation" cellspacing="0" cellpadding="0" border="0" style="margin: auto;">\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t<td class="button-td button-td-primary" style="border-radius: 4px; background: #222222;">\t\t\t\t\t\t\t\t\t\t\t\t <a class="button-a button-a-primary" href="https://google.com/" style="background: #222222; border: 1px solid #000000; font-family: sans-serif; font-size: 15px; line-height: 15px; text-decoration: none; padding: 13px 17px; color: #ffffff; display: block; border-radius: 4px;">Centered Primary Button</a>\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t</table>\t\t\t\t\t</td>\t\t\t\t</tr>',wm_one_col:'<tr>\t\t\t\t\t<td style="background-color: #ffffff;">\t\t\t\t\t\t<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">\t\t\t\t\t\t\t<tr> \t\t\t\t\t\t\t\t<td style="padding: 20px; font-family: sans-serif; font-size: 15px; line-height: 20px; color: #555555;">\t\t\t\t\t\t\t\t\t<div class="editable">\t\t\t\t\t\t\t\t\t<p style="margin: 0 0 10px 0;">Maecenas sed ante pellentesque, posuere leo id, eleifend dolor. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Praesent laoreet malesuada cursus. Maecenas scelerisque congue eros eu posuere. Praesent in felis ut velit pretium lobortis rhoncus ut&nbsp;erat.</p>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t</table>\t\t\t\t\t</td>\t\t\t\t</tr>',wm_two_col:'<tr>\t\t\t\t\t<td height="100%" valign="top" width="680px" style="background-color: #ffffff;">\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t<table align="center" role="presentation" border="0" cellspacing="0" cellpadding="0" width="680">\t\t\t\t\t\t<tr>\t\t\t\t\t\t<td valign="top" width="680">\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t\t<table align="center" role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:680px;">\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t<td align="center" valign="top" style="font-size:0; padding: 10px 0;">\t\t\t\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t\t\t\t<table role="presentation" border="0" cellspacing="0" cellpadding="0" width="680">\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t<td valign="top" width="340">\t\t\t\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t\t\t\t\t<div style="display:inline-block; margin: 0 -2px; width:100%; min-width:200px; max-width:340px; vertical-align:top;" class="stack-column">\t\t\t\t\t\t\t\t\t\t<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t<td style="padding: 10px 10px;">\t\t\t\t\t\t\t\t\t\t\t\t\t<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="font-size: 14px;text-align: left;">\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src="https://via.placeholder.com/310" width="310" height="" border="0" alt="alt_text" class="center-on-narrow" style="width: 100%; max-width: 310px; height: auto; background: #dddddd; font-family: sans-serif; font-size: 15px; line-height: 20px; color: #555555;">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style="font-family: sans-serif; font-size: 15px; line-height: 20px; color: #555555; padding-top: 10px;" class="stack-column-center">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="editable">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p style="margin: 0;">Maecenas sed ante pellentesque, posuere leo id, eleifend dolor. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.</p>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t<td valign="top" width="340">\t\t\t\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t\t\t\t\t<div style="display:inline-block; margin: 0 -2px; width:100%; min-width:200px; max-width:340px; vertical-align:top;" class="stack-column">\t\t\t\t\t\t\t\t\t\t<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t<td style="padding: 10px 10px;">\t\t\t\t\t\t\t\t\t\t\t\t\t<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="font-size: 14px;text-align: left;">\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src="https://via.placeholder.com/310" width="310" height="" border="0" alt="alt_text" class="center-on-narrow" style="width: 100%; max-width: 310px; height: auto; background: #dddddd; font-family: sans-serif; font-size: 15px; line-height: 20px; color: #555555;">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style="font-family: sans-serif; font-size: 15px; line-height: 20px; color: #555555; padding-top: 10px;" class="stack-column-center">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="editable">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p style="margin: 0;">Maecenas sed ante pellentesque, posuere leo id, eleifend dolor. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.</p>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t</table>\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t</td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t</table>\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t</td>\t\t\t\t</tr>',wm_three_col:'<tr>\t\t\t\t\t<td height="100%" valign="top" width="680px" style="padding: 10px 0; background-color: #ffffff;">\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t<table align="center" role="presentation" border="0" cellspacing="0" cellpadding="0" width="680">\t\t\t\t\t\t<tr>\t\t\t\t\t\t<td valign="top" width="680">\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t\t<table align="center" role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:680px;">\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t<td align="center" valign="top" style="font-size:0;">\t\t\t\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t\t\t\t<table role="presentation" border="0" cellspacing="0" cellpadding="0" width="680">\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t<td valign="top" width="220">\t\t\t\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t\t\t\t\t<div style="display:inline-block; margin: 0 -2px; max-width:33.33%; min-width:220px; vertical-align:top; width:100%;" class="stack-column">\t\t\t\t\t\t\t\t\t\t<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t<td style="padding: 10px 10px;">\t\t\t\t\t\t\t\t\t\t\t\t\t<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="font-size: 14px;text-align: left;">\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src="https://via.placeholder.com/200" width="200" height="" border="0" alt="alt_text" class="center-on-narrow" style="width: 100%; max-width: 200px; height: auto; background: #dddddd; font-family: sans-serif; font-size: 15px; line-height: 20px; color: #555555;">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style="font-family: sans-serif; font-size: 15px; line-height: 20px; color: #555555; padding-top: 10px;" class="stack-column-center">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="editable">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p style="margin: 0;">Maecenas sed ante pellentesque, posuere leo id, eleifend dolor. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.</p>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t<td valign="top" width="220">\t\t\t\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t\t\t\t\t<div style="display:inline-block; margin: 0 -2px; max-width:33.33%; min-width:220px; vertical-align:top; width:100%;" class="stack-column">\t\t\t\t\t\t\t\t\t\t<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t<td style="padding: 10px 10px;">\t\t\t\t\t\t\t\t\t\t\t\t\t<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="font-size: 14px;text-align: left;">\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src="https://via.placeholder.com/200" width="200" height="" border="0" alt="alt_text" class="center-on-narrow" style="width: 100%; max-width: 200px; height: auto; background: #dddddd; font-family: sans-serif; font-size: 15px; line-height: 20px; color: #555555;">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style="font-family: sans-serif; font-size: 15px; line-height: 20px; color: #555555; padding-top: 10px;" class="stack-column-center">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="editable">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p style="margin: 0;">Maecenas sed ante pellentesque, posuere leo id, eleifend dolor. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.</p>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t<td valign="top" width="220">\t\t\t\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t\t\t\t\t<div style="display:inline-block; margin: 0 -2px; max-width:33.33%; min-width:220px; vertical-align:top; width:100%;" class="stack-column">\t\t\t\t\t\t\t\t\t\t<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t<td style="padding: 10px 10px;">\t\t\t\t\t\t\t\t\t\t\t\t\t<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="font-size: 14px;text-align: left;">\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src="https://via.placeholder.com/200" width="200" height="" border="0" alt="alt_text" class="center-on-narrow" style="width: 100%; max-width: 200px; height: auto; background: #dddddd; font-family: sans-serif; font-size: 15px; line-height: 20px; color: #555555;">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style="font-family: sans-serif; font-size: 15px; line-height: 20px; color: #555555; padding-top: 10px;" class="stack-column-center">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="editable">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p style="margin: 0;">Maecenas sed ante pellentesque, posuere leo id, eleifend dolor. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.</p>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t</table>\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t</td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t</table>\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t</td>\t\t\t\t</tr>',wm_left_text_card:'<tr>\t\t\t\t\t\x3c!-- dir=ltr is where the magic happens. This can be changed to dir=rtl to swap the alignment on wide while maintaining stack order on narrow. --\x3e\t\t\t\t\t<td dir="ltr" height="100%" valign="top" width="680px" style="padding: 10px 0; background-color: #ffffff;">\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t<table align="center" role="presentation" border="0" cellspacing="0" cellpadding="0" width="680" style="width: 680px;">\t\t\t\t\t\t<tr>\t\t\t\t\t\t<td valign="top" width="680" style="width: 680px;">\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t\t<table align="center" role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:680px;">\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t<td align="center" valign="top" style="font-size:0; padding: 10px 0;">\t\t\t\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t\t\t\t<table role="presentation" border="0" cellspacing="0" cellpadding="0" width="680" style="width: 680px;">\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t<td valign="top" width="220" style="width: 220px;">\t\t\t\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t\t\t\t\t<div style="display:inline-block; margin: 0 -2px; max-width: 200px; min-width:160px; vertical-align:top; width:100%;" class="stack-column">\t\t\t\t\t\t\t\t\t\t<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t<td dir="ltr" style="padding: 0 10px 10px 10px;">\t\t\t\t\t\t\t\t\t\t\t\t\t<img src="https://via.placeholder.com/200" width="200" height="" border="0" alt="alt_text" class="center-on-narrow" style="width: 100%; max-width: 200px; height: auto; background: #dddddd; font-family: sans-serif; font-size: 15px; line-height: 15px; color: #555555;">\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t<td valign="top" width="440" style="width: 440px;">\t\t\t\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t\t\t\t\t<div style="display:inline-block; margin: 0 -2px; max-width:66.66%; min-width:320px; vertical-align:top;" class="stack-column">\t\t\t\t\t\t\t\t\t\t<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t<td dir="ltr" style="font-family: sans-serif; font-size: 15px; line-height: 20px; color: #555555; padding: 10px 10px 0; text-align: left;" class="center-on-narrow">\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="editable">\t\t\t\t\t\t\t\t\t\t\t\t\t<h2 style="margin: 0 0 10px 0; font-family: sans-serif; font-size: 18px; line-height: 22px; color: #333333; font-weight: bold;">Class aptent taciti sociosqu</h2>\t\t\t\t\t\t\t\t\t\t\t\t\t<p style="margin: 0 0 10px 0;">Maecenas sed ante pellentesque, posuere leo id, eleifend dolor. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.</p>\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- Button : BEGIN --\x3e\t\t\t\t\t\t\t\t\t\t\t\t\t<table role="presentation" cellspacing="0" cellpadding="0" border="0" class="center-on-narrow" style="float:left;">\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="button-td button-td-primary" style="border-radius: 4px; background: #222222;">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a class="button-a button-a-primary" href="https://google.com/" style="background: #222222; border: 1px solid #000000; font-family: sans-serif; font-size: 15px; line-height: 15px; text-decoration: none; padding: 13px 17px; color: #ffffff; display: block; border-radius: 4px;">Primary Button</a>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- Button : END --\x3e\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t</table>\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t</td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t</table>\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t</td>\t\t\t\t</tr>',wm_right_text_card:'<tr>\t\t\t\t\t\x3c!-- dir=rtl is where the magic happens. This can be changed to dir=ltr to swap the alignment on wide while maintaining stack order on narrow. --\x3e\t\t\t\t\t<td dir="rtl" height="100%" valign="top" width="680px" style="padding: 10px 0; background-color: #ffffff;">\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t<table align="center" role="presentation" border="0" cellspacing="0" cellpadding="0" width="680" style="width: 680px;">\t\t\t\t\t\t<tr>\t\t\t\t\t\t<td valign="top" width="680">\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t\t<table align="center" role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:680px;">\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t<td align="center" valign="top" style="font-size:0; padding: 10px 0;">\t\t\t\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t\t\t\t<table role="presentation" border="0" cellspacing="0" cellpadding="0" width="680" style="width: 680px;">\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t<td valign="top" width="220" style="width: 220px;">\t\t\t\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t\t\t\t\t<div style="display:inline-block; margin: 0 -2px; max-width: 200px; min-width:160px; vertical-align:top; width:100%;" class="stack-column">\t\t\t\t\t\t\t\t\t\t<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t<td dir="ltr" style="padding: 0 10px 10px 10px;">\t\t\t\t\t\t\t\t\t\t\t\t\t<img src="https://via.placeholder.com/200" width="200" height="" border="0" alt="alt_text" class="center-on-narrow" style="width: 100%; max-width: 200px; height: auto; background: #dddddd; font-family: sans-serif; font-size: 15px; line-height: 15px; color: #555555;">\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t<td valign="top" width="440" style="width: 440px;">\t\t\t\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t\t\t\t\t<div style="display:inline-block; margin: 0 -2px; max-width:66.66%; min-width:320px; vertical-align:top;" class="stack-column">\t\t\t\t\t\t\t\t\t\t<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t<td dir="ltr" style="font-family: sans-serif; font-size: 15px; line-height: 20px; color: #555555; padding: 10px 10px 0; text-align: left;" class="center-on-narrow">\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="editable">\t\t\t\t\t\t\t\t\t\t\t\t\t<h2 style="margin: 0 0 10px 0; font-family: sans-serif; font-size: 18px; line-height: 22px; color: #333333; font-weight: bold;">Class aptent taciti sociosqu</h2>\t\t\t\t\t\t\t\t\t\t\t\t\t<p style="margin: 0 0 10px 0;">Maecenas sed ante pellentesque, posuere leo id, eleifend dolor. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.</p>\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- Button : BEGIN --\x3e\t\t\t\t\t\t\t\t\t\t\t\t\t<table role="presentation" cellspacing="0" cellpadding="0" border="0" class="center-on-narrow" style="float:left;">\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="button-td button-td-primary" style="border-radius: 4px; background: #222222;">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a class="button-a button-a-primary" href="https://google.com/" style="background: #222222; border: 1px solid #000000; font-family: sans-serif; font-size: 15px; line-height: 15px; text-decoration: none; padding: 13px 17px; color: #ffffff; display: block; border-radius: 4px;">Primary Button</a>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- Button : END --\x3e\t\t\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t</table>\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t</td>\t\t\t\t\t\t</tr>\t\t\t\t\t\t</table>\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t</td>\t\t\t\t</tr>',wm_bg_with_text:'<tr>\t\t\t\t\t\x3c!-- Bulletproof Background Images c/o https://backgrounds.cm --\x3e\t\t\t\t\t<td valign="middle" style="text-align: center; background-image: url(\'https://via.placeholder.com/680x180/222222/666666\'); background-color: #222222; background-position: center center !important; background-size: cover !important;">\t\t\t\t\t\t\x3c!--[if gte mso 9]>\t\t\t\t\t\t<v:image xmlns:v="urn:schemas-microsoft-com:vml" fill="true" stroke="false" style="border: 0; display: inline-block; width: 680px; height: 180px;" src="https://via.placeholder.com/680x180/222222/666666" />\t\t\t\t\t\t<v:rect xmlns:v="urn:schemas-microsoft-com:vml" fill="true" stroke="false" style="border: 0; display: inline-block; position: absolute; width: 680px; height: 180px;">\t\t\t\t\t\t<v:fill opacity="0%" color="#222222" />\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t\t<div>\t\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t\t<table align="center" role="presentation" border="0" cellspacing="0" cellpadding="0" width="500">\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t<td valign="top" width="500">\t\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t\t\t<table role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width:680px; margin: auto;">\t\t\t\t\t\t\t\t<tr>\t\t\t\t\t\t\t\t\t<td valign="middle" style="text-align: center; padding: 40px 20px; font-family: sans-serif; font-size: 15px; line-height: 20px; color: #ffffff;">\t\t\t\t\t\t\t\t\t\t<div class="editable">\t\t\t\t\t\t\t\t\t\t<p style="margin: 0;">Maecenas sed ante pellentesque, posuere leo id, eleifend dolor. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Praesent laoreet malesuada cursus. Maecenas scelerisque congue eros eu posuere. Praesent in felis ut velit pretium lobortis rhoncus ut&nbsp;erat.</p>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t\x3c!--[if mso]>\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t\t</div>\t\t\t\t\t\t\x3c!--[if gte mso 9]>\t\t\t\t\t\t</v:fill>\t\t\t\t\t\t</v:rect>\t\t\t\t\t\t</v:image>\t\t\t\t\t\t<![endif]--\x3e\t\t\t\t\t</td>\t\t\t\t</tr>',wm_spacer:'<tr>\t\t\t\t\t<td aria-hidden="true" height="40" style="font-size: 0px; line-height: 0px;">\t\t\t\t\t\t&nbsp;\t\t\t\t\t</td>\t\t\t\t</tr>'};Sortable.create(e,{group:{name:"webmail",pull:!1,put:!0},handle:".webmail-row-panel-btn.draggable",draggable:".webmail-row-element",animation:300,onAdd:function(t){!function t(e){var n=e.id;var i=$(a).clone().attr("id",n);i.prepend($('<div class="webmail-section-divider"></div>'));i.find("p").replaceWith(o[n]);i.find(".webmail-row-panel-btn.destroy").click(function(){i.remove()});i.find(".webmail-row-panel-btn.edit").click(function(){console.log("Editting "+n)});i.find(".webmail-row-panel-btn.copy").click(function(){var e=i.clone();e.insertAfter(i),t(e[0])});$(e).replaceWith(i);tinymce.init({selector:".editable",inline:!0,resize:!1,plugins:"autoresize lists preview spellchecker searchreplace code help fullscreen insertdatetime link visualblocks",toolbar:["formatselect fontselect fontsizeselect | bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | bullist numlist","undo redo | spellchecker visualblocks searchreplace | link unlink insertdatetime | preview fullcreen help"],theme:"modern",menubar:!1,branding:!1});console.log("Found Editable:",i.find(".editable").length);i.find(".editable").each(function(t,e){console.log("editable",e),$(e).css("width",function(){return $(e).css("width")})})}(t.item)}})}),$(document).ready(function(){var t=getPage();switch(osis=getCookie("osis"),token=getCookie("token"),t){case"websitemanager":console.log("Loading Website Manager"),handleWebsiteManager_Team(),handleWebsiteManager_Robots(),handleWebsiteManager_Sponsors(),handleWebsiteManager_Contacts(),$("#account-loading").hide(),$("#account-main-container").show();break;case"database":console.log("Loading Database Manager"),handleDatabaseManager();break;default:return}});var save_states={};function setSaveState(t,e){save_states[t]=e,e?$("#nosave-alert-"+t).hide():$("#nosave-alert-"+t).show();var a=!0;for(var o in save_states)0==save_states[o]&&(a=!1);a?$(".unsaved-changes-alert").hide():$(".unsaved-changes-alert").show()}function handleWebsiteManager_Team(){var t,e,a=$("#leadership-item-list-reload"),o=$("#leadership-item-list-save"),n="team";o.click(function(){$("#saving-modal").modal({backdrop:"static",keyboard:!1});var a={added:{},modified:{},removed:[],stable:[]},o=getUniqueArray(Object.keys(e).concat(Object.keys(t)));for(var i in o){let n=o[i];e[n]&&null==t[n]?a.added[n]=e[n]:t[n]&&null==e[n]?a.removed.push(n):0==compareObjects(e[n],t[n])?a.modified[n]=e[n]:a.stable.push(n)}console.log(a),$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/team",type:"POST",crossDomain:!0,data:{osis:osis,token:token,_added:a.added,_modified:a.modified,_deleted:a.removed},success:function(t,e,a){console.log("Successfully updated TEAM data!")},error:function(t,e,a){console.log("Failed to update TEAM data",t,e,a),alert("An error occurred when saving the Team data. Try again?")},complete:function(){setSaveState(n,!0),setTimeout(function(){$("#saving-modal").modal("hide")},1e3)}}),$("#roster-modal-btn").click(function(){var t=$(".manager-leadership-order option:selected");$("#roster-item-modal-title-hash").text(t.text()),$("#roster-item-modal-url-season-text").text(t.text()),$("#roster-item-modal").modal();var a=e[".metadata"][t.val()],o=a?a.roster:null;$("#roster-item-modal-url").text(o?o.sheets_url:""),$("#roster-item-modal-id-col").text(o?o.col_id:""),$("#roster-item-modal-name-col").text(o?o.col_name:""),$("#roster-item-modal-date-col").text(o?o.col_d0:""),$("#roster-item-moda-date-row").text(o?o.row_di:"")}),$("#roster-item-modal-test-btn").click(function(){}),$("#roster-modal-proceed-btn").click(function(){var a=$(".manager-leadership-order option:selected").val();0==compareObjects(e[".metadata"][a],t[".metadata"][a])&&setSaveState(n,!1)})}),a.click(function(){(0!=save_states[n]||0==save_states[n]&&confirm("You have unsaved changes. Are you should you would like to reload this content and throw away your changes?"))&&c()});var i=0,s={".metadata":{SEASON:{roster:{sheets_url:null,col_id:"A",col_name:"B",col_d0:"C",row_di:2},order_leadership:{INDEX:"PERSON_ID",INDEX:"PERSON_ID",INDEX:"PERSON_ID"},order_mentors:{INDEX:"PERSON_ID",INDEX:"PERSON_ID",INDEX:"PERSON_ID"},media:{id:"url"}}},id12345:{_id:"id12345",name:"Seth McFarlane",season_first:2015,season_graduated:2018,image:null,biography:"Hello World!",roles:{id321:{_id:"id321",title:"Lead Mentor",season_first:2016,season_last:2018,program:"FRC"}}},id54321:{_id:"id54321",name:"Jon Stewart",season_first:2016,season_graduated:2019,image:null,biography:"Night of too many stars",roles:{id123:{_id:"id123",title:"Leader of Mechanics",season_first:2014,season_last:2020,program:"SeaPerch"}}}};$("#leadership-modal-btn, #robot-modal-back-btn").click(function(){$("#leadership-list-modal").modal("show"),$("#leadership-item-modal").modal("hide")}),$(".manager-leadership-order, #leadership-item-season-dropdown-start, #leadership-item-season-dropdown-end, #role-item-season-dropdown-start, #role-item-season-dropdown-end").empty();for(var r=(new Date).getFullYear();r>=2015;r--)$(".manager-leadership-order, #leadership-item-season-dropdown-start, #leadership-item-season-dropdown-end, #role-item-season-dropdown-start, #role-item-season-dropdown-end").append($("<option></option>").attr("value",r).text(r-1+" - "+r+" Season"));function l(t){".metadata"in e==0&&(e[".metadata"]={_id:".metadata"}),t+""in e[".metadata"]==0&&(e[".metadata"][t+""]={roster:{sheets_url:null},order_leadership:{},order_mentors:{},media:{url:"",caption:""}})}function d(){var t=$(".manager-leadership-order option:selected").val();l(t),e[".metadata"][t+""].order_leadership={},$("#display-order-list-leadership > .manager-item").each(function(a){e[".metadata"][t+""].order_leadership[a]=$(this).attr("hash_id")}),e[".metadata"][t+""].order_mentors={},$("#display-order-list-mentors > .manager-item").each(function(a){e[".metadata"][t+""].order_mentors[a]=$(this).attr("hash_id")}),setSaveState(n,!1),console.log("Metadata",e[".metadata"])}function c(){a.prop("disabled",!0),o.prop("disabled",!0),$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/Team",type:"GET",crossDomain:!0,success:function(a,o,i){console.log("Retrieved TEAM data");var s=a.payload;e={};for(var r=0;r<s.length;r++)e[s[r]._id]=s[r];t=JSON.parse(JSON.stringify(e)),setSaveState(n,!0)},error:function(t,a,o){console.log("Failed to load TEAM data",t,a,o),e=s},complete:function(){a.prop("disabled",!1),o.prop("disabled",!1),function(){for(var t in console.log("Handling Team Leadership Data"),$("#display-team-list > .manager-item").remove(),e)if(".metadata"!==t){var a=e[t],o=$('<button class="btn btn-primary manager-item" type="button" hash_id="'+t+'">'+a.name+'<span class="manager-item-id">'+t+"</span></button>");$("#display-team-list").append(o),o.click(function(){i=1,h($(this).attr("hash_id"))})}function s(){var t=$("#display-team-list-search-input").val().toLowerCase(),e=""==t.replace(/ /g,"");$("#display-team-list").children(function(a){e||a.text().toLowerCase().indexOf(t)?a.show():a.hide()})}$("#display-team-list-search-input, #display-team-list-search-exclude").change(s),s(),$(".manager-leadership-order").change(function(){var t=$(".manager-leadership-order option:selected").val();p(parseInt(t)),c(parseInt(t))});var r,d=(new Date).getFullYear();function c(t){console.log("Loading team Media for "+t),$("#group-photo-img-url").val(""),$("#group-photo-caption").val(""),l(t);var a=".metadata"in e&&t+""in e[".metadata"]?e[".metadata"][t+""]:null;a&&($("#group-photo-img-url").val(a.media.url),$("#group-photo-caption").val(a.media.caption))}function p(t){console.log("Loading Team Orders for "+t),$("#display-order-list-leadership").empty(),$("#display-order-list-mentors").empty();var a={leadership:[],mentors:[]};for(var o in e){var n=e[o];if(".metadata"!==o)for(var s in n.roles){var r=n.roles[s];if(r.season_first<=t&&r.season_last>=t&&"true"!==r.ignore){var l=r.title.toLowerCase();if(-1!==l.indexOf("mentor")||-1!==l.indexOf("coach")){a.mentors.push(n._id);break}a.leadership.push(n._id);break}}}var d=".metadata"in e&&t+""in e[".metadata"]?e[".metadata"][t+""]:null;for(var c in console.log("SEASON META",d),d&&("order_leadership"in d&&a.leadership.sort(function(t,e){return d.order_leadership.indexOf(t)-d.order_leadership.indexOf(e)}),"order_mentors"in d&&a.mentors.sort(function(t,e){return d.order_mentors.indexOf(t)-d.order_mentors.indexOf(e)})),a.leadership){var p=e[a.leadership[c]],m=$('<button class="btn btn-primary manager-item" type="button">'+p.name+'<i class="fa fa-sort" style="position:absolute;left:10px;top:14px"></i></button>');m.attr("hash_id",p._id),$("#display-order-list-leadership").append(m),m.click(function(){i=0,h($(this).attr("hash_id"))})}for(var c in a.mentors){var p=e[a.mentors[c]],m=$('<button class="btn btn-primary manager-item" type="button">'+p.name+'<i class="fa fa-sort" style="position:absolute;left:10px;top:14px"></i></button>');m.attr("hash_id",p._id),$("#display-order-list-mentors").append(m),m.click(function(){i=0,h($(this).attr("hash_id"))})}}p(d),c(d),$("#group-photo-img-url, #group-photo-caption").focusout(function(){var t=$(".manager-leadership-order option:selected").val();l(t),e[".metadata"][t+""].media.url=$("#group-photo-img-url").val(),e[".metadata"][t+""].media.caption=$("#group-photo-caption").val(),setSaveState(n,!1)});e[".metadata"];var m={};function h(t){if($("#leadership-list-modal").modal("hide"),console.log("Passed hash_id of "+t),console.log("ContentData",e),$("#leadership-item-modal-title").text((t?"Manage":"Add")+" Person Item"),$("#leadership-item-modal-title-hash").text(t||"New Item"),$("#leadership-item-roles-list").empty(),m={},t){var a=e[t];for(var o in console.log("Hash:",t,"PersonItem",a,"Found:",t in e),$("#leadership-item-name").val(a.name),$("#leadership-modal-img-url").val(a.image),$("#leadership-item-season-dropdown-start").val(a.season_first),$("#leadership-item-season-dropdown-end").val(a.season_graduated),$("#leadership-modal-biography").val(a.biography),a.roles)f(o,a.roles[o]);$("#leadership-modal-proceed-btn").html('Confirm Edit<i class="fa fa-pencil" style="margin-left:6px;"></i>'),$("#leadership-modal-delete-btn").show()}else{$("#leadership-item-name").val(""),$("#leadership-modal-img-url").val("");var n=(new Date).getFullYear();$("#leadership-item-season-dropdown-start").val(parseInt(n)-1),$("#leadership-item-season-dropdown-end").val(n),$("#leadership-modal-biography").val(""),$("#leadership-modal-proceed-btn").html('Add Person<i class="fa fa-plus" style="margin-left:6px;"></i>'),$("#leadership-modal-delete-btn").hide()}r=getCacheRecord($("#leadership-item-modal")),$("#leadership-item-modal").modal()}function u(t,a){if($("#leadership-item-modal").modal("hide"),console.log("Passed hash_id of "+a+" for "+t),$("#role-item-modal-title").text((a?"Manage":"Add")+" Role Item"),$("#role-item-modal-title-hash").text(a||"New Item"),$("#role-item-modal-display").text("Modifying Role for "+$("#leadership-item-name").val()),a){var o;o=t in e?e[t].roles[a]:m[a],console.log("Role Item",o),$("#role-item-name").val(o.title),$("#role-item-season-dropdown-start").val(o.season_first),$("#role-item-season-dropdown-end").val(o.season_last),$("#role-item-program-dropdown").val(o.program),$("#role-item-ignore").prop("checked",!!o.ignore),$("#role-modal-proceed-btn").html('Confirm Edit<i class="fa fa-pencil" style="margin-left:6px;"></i>'),$("#role-modal-delete-btn").show()}else{$("#role-item-name").val("");var n=(new Date).getFullYear();$("#role-item-season-dropdown-start").val(parseInt(n)-1),$("#role-item-season-dropdown-end").val(n),$("#role-item-program-dropdown").val("FRC"),$("#role-item-ignore").prop("checked",!1),$("#role-modal-proceed-btn").html('Confirm Edit<i class="fa fa-pencil" style="margin-left:6px;"></i>'),$("#role-modal-delete-btn").show(),$("#role-modal-proceed-btn").html('Add Role<i class="fa fa-plus" style="margin-left:6px;"></i>'),$("#role-modal-delete-btn").hide()}getCacheRecord($("#leadership-item-role-item-modal")),$("#leadership-item-role-item-modal").modal()}function g(){0==i?$("#leadership-item-modal").modal("hide"):($("#leadership-item-modal").modal("hide"),$("#leadership-list-modal").modal("show"));var t=$(".manager-leadership-order option:selected").val();p(parseInt(t))}function f(t,e){var a=e.title+"\n<br>("+(e.season_first==e.season_last?e.season_first+" - "+e.season_last:e.season_first+"-"+(parseInt(e.season_first)+1)+" Season to "+e.season_last+"-"+(parseInt(e.season_last)+1)+" Season)"),o=$('<div class="modal-list-item"><p class="modal-list-item-url third d-inline-block">'+a+'</p><button class="btn btn-danger modal-list-item-delete-btn" type="button"><i class="fa fa-close"></i></button><button class="btn btn-info modal-list-item-edit-btn" type="button"><i class="fa fa-pencil"></i></button></div>');o.attr("hash_id",t||generateRandomString(8)),o.attr("title",e.title),o.attr("season_first",e.season_first),o.attr("season_last",e.season_last),o.attr("program",e.program),o.attr("ignore",e.ignore),o.find(".modal-list-item-delete-btn").click(function(){$("#leadership-item-modal-title-hash").text();o.remove()}),o.find(".modal-list-item-edit-btn").click(function(){u($("#leadership-item-modal-title-hash").text(),t)}),$("#leadership-item-roles-list").append(o)}$(".leadership-item-modal-headshot").click(function(){$("#leadership-modal-img-url").val("male"==$(this).attr("gender")?"https://i.imgur.com/zB7xpfV.png":"https://i.imgur.com/oxlku78.png")}),$("#display-team-list-add-btn").click(function(){i=1,h(null),$("#leadership-item-modal").modal("show"),$("#leadership-list-modal").modal("hide")}),$("#leadership-modal-back-btn").click(g),$("#leadership-item-roles-list-add-btn").click(function(){u($("#leadership-item-modal-title-hash").text(),null),$("#leadership-item-modal").modal("hide"),$("#leadership-item-role-item-modal").modal("show")}),$("#role-item-program-dropdown").empty(),$("#role-item-program-dropdown").append($("<option></option>").attr("value","FRC").text("FRC")),$("#role-item-program-dropdown").append($("<option></option>").attr("value","SeaPerch").text("SeaPerch")),$("#role-item-program-dropdown").append($("<option></option>").attr("value","Other").text("Other")),$("#role-item-program-dropdown").val("FRC"),$("#leadership-modal-proceed-btn").click(function(){var t=compareObjects(getCacheRecord($("#leadership-item-modal")),r);if(0==t){if(""==$("#leadership-item-name").val().replace(/ /g,""))return alert("Cannot leave Name field blank."),void $("#leadership-item-name").focus();if($("#leadership-item-season-dropdown-start").val()>$("#leadership-item-season-dropdown-end").val())return void alert("A person cannot have graduated the team BEFORE they joined the team.");if(0==$("#leadership-item-roles-list > .modal-list-item").length)return void alert("There must be at least one role associated with this person.");if(""==$("#leadership-modal-img-url").val().replace(/ /g,""))return void alert("Please use a place-holder male or female headshot.");var a=$("#leadership-item-modal-title-hash").text(),o="New Item"==a;if(o&&(a=generateRandomString(8),e[a]={_id:a}),e[a].name=$("#leadership-item-name").val(),e[a].image=$("#leadership-modal-img-url").val(),e[a].season_first=$("#leadership-item-season-dropdown-start").val(),e[a].season_graduated=$("#leadership-item-season-dropdown-end").val(),e[a].biography=$("#leadership-item-biography").val(),e[a].roles={},$("#leadership-item-roles-list").find(".modal-list-item").each(function(){e[a].roles[$(this).attr("hash_id")]={title:$(this).attr("title"),season_first:$(this).attr("season_first"),season_last:$(this).attr("season_last"),program:$(this).attr("program"),ignore:$(this).attr("ignore")}}),o){var i=$('<button hash_id="'+e[a]._id+'" class="btn btn-primary manager-item" type="button">'+e[a].name+'<span class="manager-item-id">'+e[a]._id+"</span></button>");$("#display-team-list").append(i),i.click(function(){h($(this).attr("hash_id"))})}else{var s=$("#display-team-list > .manager-item[hash_id='"+a+"']");s.text(e[a].name),s.append($('<span class="manager-item-id">'+a+"</span>"))}setSaveState(n,!1)}g()}),$("#leadership-modal-delete-btn").click(function(){if(confirm("Are you sure you want to delete this item?")){g();var t=$("#leadership-item-modal-title-hash").text();delete e[t],setSaveState(n,!1),$("#display-team-list > .manager-item[hash_id='"+t+"']").remove()}}),$("#role-modal-proceed-btn").click(function(){if(""==$("#role-item-name").val().replace(/ /g,""))return alert("Cannot leave Role Title field blank."),void $("#role-item-name").focus();if($("#role-item-season-dropdown-start").val()>$("#role-item-season-dropdown-end").val())alert("A role cannot have a starting season that begins AFTER it's end season.");else{var t,a=$("#leadership-item-modal-title-hash").text();t=a in e?e[a].roles:m;var o=$("#role-item-modal-title-hash").text(),i="New Item"==o;if(i&&(o=generateRandomString(8),t[o]={_id:o}),t[o].title=$("#role-item-name").val(),t[o].season_first=$("#role-item-season-dropdown-start").val(),t[o].season_last=$("#role-item-season-dropdown-end").val(),t[o].program=$("#role-item-program-dropdown").val(),t[o].ignore=$("#role-item-ignore").prop("checked"),console.log("Role Reference",o,t[o]),i)f(o,t[o]);else{var s=t[o].title+"\n<br>("+(t[o].season_first==t[o].season_last?t[o].season_first+" - "+t[o].season_last:parseInt(t[o].season_first)-1+"-"+t[o].season_first+" Season to "+(parseInt(t[o].season_last)-1)+"-"+t[o].season_last+" Season)"),r=$("#leadership-item-roles-list > .modal-list-item[hash_id='"+o+"'] > .modal-list-item-url");r.html(s)}setSaveState(n,!1),$("#leadership-item-modal").modal("show"),$("#leadership-item-role-item-modal").modal("hide")}}),$("#role-modal-back-btn").click(function(){$("#leadership-item-modal").modal("show"),$("#leadership-item-role-item-modal").modal("hide")}),$("#role-modal-delete-btn").click(function(){if(confirm("Are you sure you want to delete this item?")){$("#leadership-item-modal-title-hash").text();$("#leadership-item-modal").modal("show"),$("#leadership-item-role-item-modal").modal("hide");var t=$("#role-item-modal-title-hash").text();setSaveState(n,!1),$("#leadership-item-roles-list > .modal-list-item[hash_id='"+t+"']").remove()}})}()}})}$("#display-team-list > .manager-item").remove(),$("#display-order-list-leadership").empty(),$("#display-order-list-mentors").empty(),new Sortable($("#display-order-list-leadership")[0],{handle:".fa-sort",draggable:".manager-item",animation:150,onUpdate:d}),new Sortable($("#display-order-list-mentors")[0],{handle:".fa-sort",draggable:".manager-item",animation:150,onUpdate:d}),c()}function handleWebsiteManager_Robots(){var t,e,a,o=$("#robot-item-list-reload"),n=$("#robot-item-list-save"),i="#manage_robots_list",s=$("#robot-item-list-add-btn"),r=$("#robot-modal-proceed-btn"),l="robots";function d(){o.prop("disabled",!0),n.prop("disabled",!0),s.prop("disabled",!0),$(i+" > .manager-item").remove(),$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/robots",type:"GET",crossDomain:!0,success:function(a,o,n){var s=a.payload;s.sort(function(t,e){return parseInt(e.season)-parseInt(t.season)}),e={};for(var r=0;r<s.length;r++){var d=u(s[r].type);$(i).append($('<button hash_id="'+s[r]._id+'" class="btn btn-'+d+' manager-item" type="button">'+s[r].name+'<span class="manager-item-id">'+s[r]._id+'</span><span class="bg-'+d+' robot-item-btn-competition-label">'+s[r].type+" "+s[r].season+"</span></button>")),e[s[r]._id]=s[r]}t=JSON.parse(JSON.stringify(e)),$(i+" > .manager-item").click(function(){c($(this).attr("hash_id"))}),setSaveState(l,!0)},error:function(t,e,a){console.log("Failed to fetch Robots Data",t,e,a)},complete:function(){o.prop("disabled",!1),n.prop("disabled",!1),s.prop("disabled",!1)}})}function c(t){if($("#robot-item-modal-title").text((t?"Manage":"Add")+" Robot Item"),$("#robot-item-modal-title-hash").text(t||"New Item"),$("#robot-item-media-list").empty(),$("#robot-item-competition-list").empty(),t){var o=e[t];for(var n in $("#robot-item-name").val(o.name),$("#robot-item-season-dropdown").val(o.season),$("#robot-item-type-dropdown").val(o.type),$("#robot-item-biography").val(o.biography),o.media)m(n,o.media[n]);for(var i in o.competitions)h(i,o.competitions[i].name,o.competitions[i].url);r.html('Confirm Edit<i class="fa fa-pencil" style="margin-left:6px;"></i>'),$("#robot-modal-delete-btn").show()}else $("#robot-item-name").val(""),$("#robot-item-season-dropdown").val((new Date).getFullYear()),$("#robot-item-type-dropdown").val("FRC"),$("#robot-item-biography").val(""),r.html('Add Robot<i class="fa fa-plus" style="margin-left:6px;"></i>'),$("#robot-modal-delete-btn").hide();a=getCacheRecord($("#robot-item-modal")),$("#robot-item-modal").modal()}n.click(function(){$("#saving-modal").modal({backdrop:"static",keyboard:!1});var a={added:{},modified:{},removed:[],stable:[]},o=getUniqueArray(Object.keys(e).concat(Object.keys(t)));for(var n in o){let i=o[n];e[i]&&null==t[i]?a.added[i]=e[i]:t[i]&&null==e[i]?a.removed.push(i):0==compareObjects(e[i],t[i])?a.modified[i]=e[i]:a.stable.push(i)}console.log(a),$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/robots",type:"POST",crossDomain:!0,data:{osis:osis,token:token,_added:a.added,_modified:a.modified,_deleted:a.removed},success:function(t,e,a){console.log("Successfully updated ROBOTS data!")},error:function(t,e,a){console.log("Failed to update ROBOTS data",t,e,a),alert("An error occurred when saving the Robots data. Try again?")},complete:function(){setSaveState(l,!0),setTimeout(function(){$("#saving-modal").modal("hide")},1e3)}})}),o.click(function(){(0!=save_states[l]||0==save_states[l]&&confirm("You have unsaved changes. Are you should you would like to reload this content and throw away your changes?"))&&d()}),s.click(function(){c(null)}),$("#robot-item-season-dropdown").empty();for(var p=(new Date).getFullYear();p>=2014;p--)$("#robot-item-season-dropdown").append($("<option></option>").attr("value",p).text(p-1+" - "+p+" Season"));function m(t,e){var a=$('<div hash_id="'+(t||generateRandomString(8))+'" class="modal-list-item"><div class="modal-list-item-handle"><i class="material-icons sortable-drag-handle draggable text-black-50">menu</i></div><input type="url"'+(e?'value="'+e+'"':"")+'" placeholder="https://www.youtube.com/watch?v=abc1234" class="modal-list-item-url" /><button class="btn btn-danger modal-list-item-delete-btn" type="button"><i class="fa fa-close"></i></button></div>');a.find(".modal-list-item-delete-btn").click(function(){a.remove()}),$("#robot-item-media-list").append(a)}function h(t,e,a){var o=$('<div hash_id="'+(t||generateRandomString(8))+'" class="modal-list-item"><div class="modal-list-item-handle grabbable"><i class="material-icons">menu</i></div><div><input type="text"'+(e?'value="'+e+'"':"")+' placeholder="Competition Name" class="modal-list-item-title" /><input type="url"'+(a?' value="'+a+'"':"")+' placeholder="Optional Match Playlist URL" class="modal-list-item-url second" /></div><button class="btn btn-danger modal-list-item-delete-btn second" type="button"><i class="fa fa-close"></i></button></div>');o.find(".modal-list-item-delete-btn").click(function(){o.remove()}),$("#robot-item-competition-list").append(o)}function u(t){switch(t.toLowerCase()){case"frc":return"primary";case"seaperch":return"info";default:return"secondary"}}new Sortable($("#robot-item-media-list")[0],{handle:".modal-list-item-handle",draggable:".modal-list-item",animation:150}),$("#robot-item-media-list-add-btn").click(function(){m(null,null)}),new Sortable($("#robot-item-competition-list")[0],{handle:".modal-list-item-handle",draggable:".modal-list-item",animation:150}),$("#robot-item-competition-list-add-btn").click(function(){h(null,null,null)}),r.click(function(){if(0==compareObjects(getCacheRecord($("#robot-item-modal")),a)){if(""==$("#robot-item-name").val().replace(/ /g,""))return alert("Cannot leave Name field blank."),void $("#robot-item-name").focus();var t=$("#robot-item-modal-title-hash").text(),o="New Item"==t;o&&(t=generateRandomString(8),e[t]={_id:t}),e[t].name=$("#robot-item-name").val(),e[t].season=$("#robot-item-season-dropdown").val(),e[t].type=$("#robot-item-type-dropdown").val(),e[t].biography=$("#robot-item-biography").val(),e[t].media={},$("#robot-item-media-list").find(".modal-list-item").each(function(){var a=$(this).find("input[type=url]").val();null!=a&&""!==a.replace(/ /g,"")&&(e[t].media[$(this).attr("hash_id")]=a)}),e[t].competitions={},$("#robot-item-competition-list").find(".modal-list-item").each(function(){var a=$(this).find("input[type=text]").val();null!==a&&""!==a.replace(/ /g,"")&&(e[t].competitions[$(this).attr("hash_id")]={name:a,url:$(this).find("input[type=url]").val()})});var n=u(e[t].type);if(o){var s=$('<button hash_id="'+e[t]._id+'" class="btn btn-'+n+' manager-item" type="button">'+e[t].name+'<span class="manager-item-id">'+e[t]._id+'</span><span class="bg-'+n+' robot-item-btn-competition-label">'+e[t].type+" "+e[t].season+"</span></button>");$(i).append(s),s.click(function(){c($(this).attr("hash_id"))})}else{var r=$(i+" > .manager-item[hash_id='"+t+"']");r.html(e[t].name+'<span class="manager-item-id">'+e[t]._id+'</span><span class="bg-'+n+' robot-item-btn-competition-label">'+e[t].type+" "+e[t].season+"</span>"),r.removeClass("btn-primary"),r.removeClass("btn-info"),r.removeClass("btn-secondary"),r.addClass("btn-"+n)}setSaveState(l,!1)}$("#robot-item-modal").modal("hide")}),$("#robot-modal-delete-btn").click(function(){if(confirm("Are you sure you want to delete this item?")){$("#robot-item-modal").modal("hide");var t=$("#robot-item-modal-title-hash").text();delete e[t],setSaveState(l,!1),$(i+" > .manager-item[hash_id='"+t+"']").remove()}}),d()}function handleWebsiteManager_Contacts(){var t,e,a,o=$("#contact-item-list-reload"),n=$("#contact-item-list-save"),i="#manage-contacts-list",s=$("#contact-item-list-add-btn"),r=$("#contact-modal-proceed-btn"),l="contacts";function d(){o.prop("disabled",!0),n.prop("disabled",!0),s.prop("disabled",!0),console.log("Loading contact data"),$(i+" > .manager-item").remove(),$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/contacts",type:"GET",crossDomain:!0,success:function(a,o,n){var s=a.payload;null==s&&(s=[{_id:"1",name:"Steven",contact:"Yellow@blue.com",order:0},{_id:"2",name:"Alex",contact:"alex@red.com",order:1},{_id:"3",name:"Valerie",contact:"vals@val.com",order:2}]),s.sort(function(t,e){return parseInt(e.order)-parseInt(t.order)}),e={};for(var r=0;r<s.length;r++)$(i).append($('<button hash_id="'+s[r]._id+'" class="btn btn-primary manager-item" type="button">'+s[r].name+'<i class="fa fa-sort" style="position:absolute;left:10px;top:14px"></i></button>')),e[s[r]._id]=s[r];t=JSON.parse(JSON.stringify(e)),$(i+" > .manager-item").click(function(){c($(this).attr("hash_id"))}),setSaveState(l,!0)},error:function(t,e,a){console.log("Failed to fetch Contacts Data",t,e,a)},complete:function(){o.prop("disabled",!1),n.prop("disabled",!1),s.prop("disabled",!1)}})}function c(t){if($("#contact-item-modal-title").text((t?"Manage":"Add")+" Contact Item"),$("#contact-item-modal-title-hash").text(t||"New Item"),t){var o=e[t];$("#contact-item-name").val(o.name),$("#contact-item-contact").val(o.contact),r.html('Confirm Edit<i class="fa fa-pencil" style="margin-left:6px;"></i>'),$("#contact-modal-delete-btn").show()}else $("#contact-item-name").val(""),$("#contact-item-contact").val(""),r.html('Add Contact<i class="fa fa-plus" style="margin-left:6px;"></i>'),$("#contact-modal-delete-btn").hide();a=getCacheRecord($("#contact-item-modal")),$("#contact-item-modal").modal()}n.click(function(){$("#saving-modal").modal({backdrop:"static",keyboard:!1});var a={added:{},modified:{},removed:[],stable:[]},o=getUniqueArray(Object.keys(e).concat(Object.keys(t)));for(var n in o){let i=o[n];e[i]&&null==t[i]?a.added[i]=e[i]:t[i]&&null==e[i]?a.removed.push(i):0==compareObjects(e[i],t[i])?a.modified[i]=e[i]:a.stable.push(i)}console.log(a),$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/contacts",type:"POST",crossDomain:!0,data:{osis:osis,token:token,_added:a.added,_modified:a.modified,_deleted:a.removed},success:function(t,e,a){console.log("Successfully updated CONTACTS data!")},error:function(t,e,a){console.log("Failed to update CONTACTS data",t,e,a),alert("An error occurred when saving the Contacts data. Try again?")},complete:function(){setSaveState(l,!0),setTimeout(function(){$("#saving-modal").modal("hide")},1e3)}})}),o.click(function(){(0!=save_states[l]||0==save_states[l]&&confirm("You have unsaved changes. Are you should you would like to reload this content and throw away your changes?"))&&d()}),s.click(function(){c(null)}),new Sortable($("#manage-contacts-list")[0],{draggable:".manager-item",animation:150,onUpdate:function(){setSaveState(l,!1),$.each($("#manage-contacts-list").find(".manager-item"),function(t,a){e[$(a).attr("hash_id")].order=t})}}),r.click(function(){if(0==compareObjects(getCacheRecord($("#contact-item-modal")),a)){if(""==$("#contact-item-name").val().replace(/ /g,""))return alert("Cannot leave Name field blank."),void $("#contact-item-name").focus();if(""==$("#contact-item-contact").val().replace(/ /g,""))return alert("Cannot leave Contact field blank."),void $("#contact-item-contact").focus();var t=$("#contact-item-modal-title-hash").text(),o="New Item"==t;if(o&&(t=generateRandomString(8),e[t]={_id:t}),e[t].name=$("#contact-item-name").val(),e[t].contact=$("#contact-item-contact").val(),o){var n=$('<button hash_id="'+t+'" class="btn btn-primary manager-item" type="button">'+e[t].name+'<i class="icon-menu" style="position:absolute;left:10px;top:14px"></i></button>');$(i).append(n),n.click(function(){c($(this).attr("hash_id"))})}else{$(i+" > .manager-item[hash_id='"+t+"']").html(e[t].name+'<i class="icon-menu" style="position:absolute;left:10px;top:14px"></i>')}setSaveState(l,!1)}$("#contact-item-modal").modal("hide")}),$("#contact-modal-delete-btn").click(function(){if(confirm("Are you sure you want to delete this item?")){$("#contact-item-modal").modal("hide");var t=$("#contact-item-modal-title-hash").text();delete e[t],setSaveState(l,!1),$(i+" > .manager-item[hash_id='"+t+"']").remove()}}),d()}function handleWebsiteManager_Sponsors(){var t,e,a,o=$("#sponsor-item-list-reload"),n=$("#sponsor-item-list-save"),i="#manage-sponsors-list",s=$("#sponsor-item-list-add-btn"),r=$("#sponsor-modal-proceed-btn"),l="sponsors";function d(){function a(a){null==a&&(a=[{_id:"1",name:"AMSCO",biography:"I would walk one thousand miles",image:"yeet.jpg",destination:"www.notyeet.com",seasons:[]},{_id:"2",name:"LEVEL",biography:"a biography",image:"beetsqueet.jpg",destination:"www.maybeyeet.com",seasons:["2017 - 2018 Season"]},{_id:"3",name:"LEGO",biography:"And I would walk one thousand more",image:"beetyeet.jpg",destination:"www.yesyeet.com",seasons:[]}]),e={};for(let t=0;t<a.length;t++)$(i).append($('<button hash_id="'+a[t]._id+'" class="btn btn-primary manager-item" type="button">'+a[t].name+'<span class="manager-item-id">'+a[t]._id+"</span></button>")),e[a[t]._id]=a[t];t=JSON.parse(JSON.stringify(e)),$(i+" > .manager-item").click(function(){c($(this).attr("hash_id"))}),setSaveState(l,!0)}o.prop("disabled",!0),n.prop("disabled",!0),s.prop("disabled",!0),console.log("Loading sponsor data"),$(i+" > .manager-item").remove(),$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/sponsors",type:"GET",crossDomain:!0,success:function(t,e,o){var n=t.payload;console.log("Arrived content",n),a(n)},error:function(t,e,o){console.log("Failed to fetch Sponsors Data",t,e,o),a()},complete:function(){o.prop("disabled",!1),n.prop("disabled",!1),s.prop("disabled",!1)}})}function c(t){if($("#sponsor-item-modal-title").text((t?"Manage":"Add")+" Sponsor Item"),$("#sponsor-item-modal-title-hash").text(t||"New Item"),$("#sponsor-modal-seasons-list-div").empty(),t){var o=e[t];$("#sponsor-modal-name").val(o.name),$("#sponsor-modal-img-url").val(o.image),$("#sponsor-modal-destination-url").val(o.destination),$("#sponsor-modal-biography").val(o.biography),console.log("SEASONS",o.seasons);for(let t=0;t<o.seasons.length;t++){var n=o.seasons[t],i=$('<span style="display:block;background-color:#ccc;padding:5px;margin-bottom:5px;border:1px solid #bbb" season="'+n+'">'+(n-1+" - "+n)+' Season<button class="btn btn-danger float-right" type="button" style="padding:2px 6px;margin:0px;font-size:12px;border-radius:0px;"><i class="fa fa-close"></i></button></span>');$("#sponsor-modal-seasons-list-div").append(i),i.find("button").click(function(){i.remove()})}r.html('Confirm Edit<i class="fa fa-pencil" style="margin-left:6px;"></i>'),$("#sponsor-modal-delete-btn").show()}else $("#sponsor-modal-name").val(""),$("#sponsor-modal-img-url").val(""),$("#sponsor-modal-destination-url").val(""),$("#sponsor-modal-biography").val(""),$("#sponsor-modal-seasons-list-div").empty(),r.html('Add Sponsor<i class="fa fa-plus" style="margin-left:6px;"></i>'),$("#sponsor-modal-delete-btn").hide();a=getCacheRecord($("#sponsor-item-modal")),$("#sponsor-item-modal").modal()}n.click(function(){$("#saving-modal").modal({backdrop:"static",keyboard:!1});var a={added:{},modified:{},removed:[],stable:[]},o=getUniqueArray(Object.keys(e).concat(Object.keys(t)));for(var n in o){let i=o[n];e[i]&&null==t[i]?a.added[i]=e[i]:t[i]&&null==e[i]?a.removed.push(i):0==compareObjects(e[i],t[i])?a.modified[i]=e[i]:a.stable.push(i)}console.log(a),$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/sponsors",type:"POST",crossDomain:!0,data:{osis:osis,token:token,_added:a.added,_modified:a.modified,_deleted:a.removed},success:function(t,e,a){console.log("Successfully updated SPONSORS data!")},error:function(t,e,a){console.log("Failed to update SPONSORS data",t,e,a),alert("An error occurred when saving the Sponsors data. Try again?")},complete:function(){setSaveState(l,!0),setTimeout(function(){$("#saving-modal").modal("hide")},1e3)}})}),o.click(function(){(0!=save_states[l]||0==save_states[l]&&confirm("You have unsaved changes. Are you should you would like to reload this content and throw away your changes?"))&&d()}),s.click(function(){c(null)}),$("#sponsor-modal-season-select").empty();for(var p=(new Date).getFullYear();p>=2015;p--)$("#sponsor-modal-season-select").append($("<option></option>").attr("value",p).text(p-1+" - "+p+" Season"));$("#sponsor-modal-season-add-btn").click(function(){var t=$("#sponsor-modal-season-select option:selected").text(),e=$("#sponsor-modal-season-select option:selected").val();if(0==$("#sponsor-modal-seasons-list-div span:contains('"+t+"')").length){var a=$('<span style="display:block;background-color:#ccc;padding:5px;margin-bottom:5px;border:1px solid #bbb" season="'+e+'">'+t+'<button class="btn btn-danger float-right" type="button" style="padding:2px 6px;margin:0px;font-size:12px;border-radius:0px;"><i class="fa fa-close"></i></button></span>');$("#sponsor-modal-seasons-list-div").append(a),a.find("button").click(function(){a.remove()})}else alert("Season Item already added to list")}),r.click(function(){if(0==compareObjects(getCacheRecord($("#sponsor-item-modal")),a)){if(""==$("#sponsor-modal-name").val().replace(/ /g,""))return alert("Cannot leave Name field blank."),void $("#sponsor-modal-name").focus();if(0==$("#sponsor-modal-seasons-list-div").children().length)return void alert("You must associate this sponsor with at least one season.");var t=$("#sponsor-item-modal-title-hash").text(),o="New Item"==t;if(o&&(t=generateRandomString(8),e[t]={_id:t}),e[t].name=$("#sponsor-modal-name").val(),e[t].image=$("#sponsor-modal-img-url").val(),e[t].destination=$("#sponsor-modal-destination-url").val(),e[t].biography=$("#sponsor-modal-biography").val(),e[t].seasons=[],$("#sponsor-modal-seasons-list-div").children().each(function(){e[t].seasons.push($(this).attr("season"))}),o){var n=$('<button hash_id="'+t+'" class="btn btn-primary manager-item" type="button">'+e[t].name+'<i class="icon-menu" style="position:absolute;left:10px;top:14px"></i></button>');$(i).append(n),n.click(function(){c($(this).attr("hash_id"))})}else{$(i+" > .manager-item[hash_id='"+t+"']").html(e[t].name+'<i class="icon-menu" style="position:absolute;left:10px;top:14px"></i>')}setSaveState(l,!1)}$("#sponsor-item-modal").modal("hide")}),$("#sponsor-modal-delete-btn").click(function(){if(confirm("Are you sure you want to delete this item?")){$("#sponsor-item-modal").modal("hide");var t=$("#sponsor-item-modal-title-hash").text();delete e[t],setSaveState(l,!1),$(i+" > .manager-item[hash_id='"+t+"']").remove()}}),d()}function handleWebsiteManager_Resources(){var t,e,a,o=$("#resource-item-list-reload"),n=$("#resource-item-list-save"),i="#manage-resources-list",s=$("#resource-item-list-add-btn"),r=$("#resource-modal-proceed-btn"),l="resources";function d(){function a(a){null==a&&(a=[{_id:"1",name:"AMSCO",biography:"I would walk one thousand miles",image:"yeet.jpg",destination:"www.notyeet.com",seasons:[]},{_id:"2",name:"LEVEL",biography:"a biography",image:"beetsqueet.jpg",destination:"www.maybeyeet.com",seasons:["2017 - 2018 Season"]},{_id:"3",name:"LEGO",biography:"And I would walk one thousand more",image:"beetyeet.jpg",destination:"www.yesyeet.com",seasons:[]}]),e={};for(let t=0;t<a.length;t++)$(i).append($('<button hash_id="'+a[t]._id+'" class="btn btn-primary manager-item" type="button">'+a[t].name+'<span class="manager-item-id">'+a[t]._id+"</span></button>")),e[a[t]._id]=a[t];t=JSON.parse(JSON.stringify(e)),$(i+" > .manager-item").click(function(){c($(this).attr("hash_id"))}),setSaveState(l,!0)}o.prop("disabled",!0),n.prop("disabled",!0),s.prop("disabled",!0),console.log("Loading resource data"),$(i+" > .manager-item").remove(),$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/resources",type:"GET",crossDomain:!0,success:function(t,e,o){var n=t.payload;console.log("Arrived content",n),a(n)},error:function(t,e,o){console.log("Failed to fetch Resources Data",t,e,o),a()},complete:function(){o.prop("disabled",!1),n.prop("disabled",!1),s.prop("disabled",!1)}})}function c(t){if($("#resource-item-modal-title").text((t?"Manage":"Add")+" Resource Item"),$("#resource-item-modal-title-hash").text(t||"New Item"),$("#resource-modal-seasons-list-div").empty(),t){var o=e[t];$("#resource-modal-name").val(o.name),$("#resource-modal-img-url").val(o.image),$("#resource-modal-destination-url").val(o.destination),$("#resource-modal-biography").val(o.biography),console.log("SEASONS",o.seasons);for(let t=0;t<o.seasons.length;t++){var n=o.seasons[t],i=$('<span style="display:block;background-color:#ccc;padding:5px;margin-bottom:5px;border:1px solid #bbb">'+n+'<button class="btn btn-danger float-right" type="button" style="padding:2px 6px;margin:0px;font-size:12px;border-radius:0px;"><i class="fa fa-close"></i></button></span>');$("#resource-modal-seasons-list-div").append(i),i.find("button").click(function(){i.remove()})}r.html('Confirm Edit<i class="fa fa-pencil" style="margin-left:6px;"></i>'),$("#resource-modal-delete-btn").show()}else $("#resource-modal-name").val(""),$("#resource-modal-img-url").val(""),$("#resource-modal-destination-url").val(""),$("#resource-modal-biography").val(""),r.html('Add Resource<i class="fa fa-plus" style="margin-left:6px;"></i>'),$("#resource-modal-delete-btn").hide();a=getCacheRecord($("#resource-item-modal")),$("#resource-item-modal").modal()}n.click(function(){$("#saving-modal").modal({backdrop:"static",keyboard:!1});var a={added:{},modified:{},removed:[],stable:[]},o=getUniqueArray(Object.keys(e).concat(Object.keys(t)));for(var n in o){let i=o[n];e[i]&&null==t[i]?a.added[i]=e[i]:t[i]&&null==e[i]?a.removed.push(i):0==compareObjects(e[i],t[i])?a.modified[i]=e[i]:a.stable.push(i)}console.log(a),$.ajax({url:"https://bnchs-robotics-website-server.glitch.me/api/resources",type:"POST",crossDomain:!0,data:{osis:osis,token:token,_added:a.added,_modified:a.modified,_deleted:a.removed},success:function(t,e,a){console.log("Successfully updated SPONSORS data!")},error:function(t,e,a){console.log("Failed to update SPONSORS data",t,e,a),alert("An error occurred when saving the Resources data. Try again?")},complete:function(){setSaveState(l,!0),setTimeout(function(){$("#saving-modal").modal("hide")},1e3)}})}),o.click(function(){(0!=save_states[l]||0==save_states[l]&&confirm("You have unsaved changes. Are you should you would like to reload this content and throw away your changes?"))&&d()}),s.click(function(){c(null)}),$("#resource-modal-season-select").empty();for(var p=(new Date).getFullYear();p>=2014;p--)$("#resource-modal-season-select").append($("<option></option>").attr("value",p).text(p-1+" - "+p+" Season"));$("#resource-modal-season-add-btn").click(function(){var t=$("#resource-modal-season-select option:selected").text();if(0==$("#resource-modal-seasons-list-div span:contains('"+t+"')").length){var e=$('<span style="display:block;background-color:#ccc;padding:5px;margin-bottom:5px;border:1px solid #bbb">'+t+'<button class="btn btn-danger float-right" type="button" style="padding:2px 6px;margin:0px;font-size:12px;border-radius:0px;"><i class="fa fa-close"></i></button></span>');$("#resource-modal-seasons-list-div").append(e),e.find("button").click(function(){e.remove()})}else alert("Season Item already added to list")}),r.click(function(){if(0==compareObjects(getCacheRecord($("#resource-item-modal")),a)){if(""==$("#resource-modal-name").val().replace(/ /g,""))return alert("Cannot leave Name field blank."),void $("#resource-modal-name").focus();var t=$("#resource-item-modal-title-hash").text(),o="New Item"==t;if(o&&(t=generateRandomString(8),e[t]={_id:t}),e[t].name=$("#resource-modal-name").val(),e[t].image=$("#resource-modal-img-url").val(),e[t].destination=$("#resource-modal-destination-url").val(),e[t].biography=$("#resource-modal-biography").val(),o){var n=$('<button hash_id="'+t+'" class="btn btn-primary manager-item" type="button">'+e[t].name+'<i class="icon-menu" style="position:absolute;left:10px;top:14px"></i></button>');$(i).append(n),n.click(function(){c($(this).attr("hash_id"))})}else{$(i+" > .manager-item[hash_id='"+t+"']").html(e[t].name+'<i class="icon-menu" style="position:absolute;left:10px;top:14px"></i>')}setSaveState(l,!1)}$("#resource-item-modal").modal("hide")}),$("#resource-modal-delete-btn").click(function(){if(confirm("Are you sure you want to delete this item?")){$("#resource-item-modal").modal("hide");var t=$("#resource-item-modal-title-hash").text();delete e[t],setSaveState(l,!1),$(i+" > .manager-item[hash_id='"+t+"']").remove()}}),d()}function getCacheRecord(t){var e={};return t.find("input, select, textarea").each(function(t,a){e[t]=$(a).val()}),e}function compareObjects(t,e){if(null==t&&null==e)return!0;if((null==t||null==e)&&t!==e)return!1;var a=getUniqueArray(Object.keys(t).concat(Object.keys(e)));for(key in a){var o=t[a[key]],n=e[a[key]];if("object"==typeof o&&"object"==typeof n){if(0==compareObjects(o,n))return!1}else if(o!=n)return!1}return!0}function getUniqueArray(t){for(var e=t.concat(),a=0;a<e.length;++a)for(var o=a+1;o<e.length;++o)e[a]===e[o]&&e.splice(o--,1);return e}function generateRandomString(t){t=t||8;for(var e="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<t;o++)e+=a.charAt(Math.floor(Math.random()*a.length));return e}window.onbeforeunload=function(){var t=!1;for(var e in save_states)if(0==save_states[e]){t=!0;break}if(t)return console.log("PREVENTED LEAVING WITH UNHANDLED SAVES"),"Are you sure you want to leave? You have unsaved changes."};